<!DOCTYPE html>
<!-- saved from url=(0127)https://docs.google.com/document/d/e/2PACX-1vRn1R7c-Y-XLoa3BJ0o5GrIAy8nteMD0AvqJyhf6iGTWD7dHWVARxFrUVP8BOHNNUeVfxbALbC5bP_V/pub -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title><b>Meeting Notes for TPAC Breakout</b>: Allowing public resources to opt-out of privacy protections</title><link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico"><meta name="referrer" content="strict-origin-when-cross-origin"><style type="text/css" nonce="">
      @import url("https://fonts.googleapis.com/css?family=Google+Sans");
      @import url("https://fonts.googleapis.com/css?family=Roboto");

      body {
        font-family: Roboto, arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #banners {
        align-items: center;
        background: white;
        display: block;
        justify-content: space-between;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
      }

      #banners #publish-banner {
        background-color: #e8f0fe;
        border-bottom: 1px #ccc solid;
        color: #202124;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #publish-banner-icon {
        display: flex;
        fill: #1967d2;
        margin: auto 20px;
      }

      #publish-banner-text {
        flex-grow: 1;
        margin: auto 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      #publish-banner-buttons {
        margin: auto 25px auto 0;
      }

      #publish-banner-buttons span {
        align-self: center;
        background-color: inherit;
        border: none;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        margin: 0 16px 0 32px;
      }

      #publish-banner-buttons a {
        color: #1967d2;
        cursor: pointer;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
        text-decoration: none;
      }

      #banners #title-banner {
        background: white;
        border-bottom: 1px #ccc solid;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #banners #title-banner #title {
        flex-grow: 1;
        font-family: 'Google Sans';
        font-size: large;
        margin: auto 0 auto 20px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 70%;
      }

      #banners #title-banner #interval {
        margin: auto 25px auto 0;
        font-family: Roboto;
        font-size: small;;
      }

      #footer {
        background: #f0f0f0;
        border-bottom: 1px #ccc solid;
        bottom: 0;
        font-family: Roboto;
        font-size: small;
        padding: 10px 10px;
        position: fixed;
        text-align: center;
        width: 100%;
      }

      @media only screen and (max-device-width: 800px) {
        #banners #title-banner {
          border-bottom-width: 5px;
          height: auto;
          display: block;
        }

        #banners #title-banner #title {
          font-size: 3em;
          margin: auto 0 auto 20px;
          width: 90%;
        }

        #banners #title-banner #interval {
          font-size: 1.5em;
          margin: 10px 0 auto 25px;
        }

        #footer {
          font-size: 2em;
        }
      }

      .dash {
        padding: 0 6px;
      }

    
        #contents {
          padding: 50px 5% 50px 5%;
        }

        @media only screen and (max-device-width: 800px) {
          #contents {
            padding: 150px 5% 80px;
          }
        }
      </style></head><body><div id="banners"><div style="display:none" id="publish-banner"><span id="publish-banner-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg></span><div id="publish-banner-text">Publié à l'aide de Google&nbsp;Docs</div><div id="publish-banner-buttons"><span><a target="_blank" title="Learn more" href="https://support.google.com/docs/answer/183965">En savoir plus</a></span><span><a href="https://docs.google.com/abuse?id=AKkXjoyzTLxZGuMtJY5cfC3cBbInv-uxyaG-orN1t62PhDX1Bld5W7JNjQ9K2s7Vz3fvGCsIWusj9lLh0oqNnQI:0">Signaler un cas d'utilisation abusive
</a></span></div></div><div id="title-banner"><div id="title"><b>Meeting Notes for TPAC Breakout</b>: Allowing public resources to opt-out of privacy protections</div><div id="interval"></div></div></div><div id="contents"><style type="text/css">.lst-kix_9h6oqrfs430o-7>li:before{content:"\0025cb  "}.lst-kix_9h6oqrfs430o-8>li:before{content:"\0025a0  "}.lst-kix_9h6oqrfs430o-4>li:before{content:"\0025cb  "}.lst-kix_9h6oqrfs430o-5>li:before{content:"\0025a0  "}.lst-kix_9h6oqrfs430o-6>li:before{content:"\0025cf  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}ul.lst-kix_9h6oqrfs430o-7{list-style-type:none}.lst-kix_9h6oqrfs430o-0>li:before{content:"\0025cf  "}ul.lst-kix_9h6oqrfs430o-8{list-style-type:none}ul.lst-kix_9h6oqrfs430o-5{list-style-type:none}ul.lst-kix_9h6oqrfs430o-6{list-style-type:none}ul.lst-kix_9h6oqrfs430o-0{list-style-type:none}.lst-kix_9h6oqrfs430o-3>li:before{content:"\0025cf  "}ul.lst-kix_9h6oqrfs430o-3{list-style-type:none}.lst-kix_9h6oqrfs430o-1>li:before{content:"\0025cb  "}.lst-kix_9h6oqrfs430o-2>li:before{content:"\0025a0  "}ul.lst-kix_9h6oqrfs430o-4{list-style-type:none}ul.lst-kix_9h6oqrfs430o-1{list-style-type:none}ul.lst-kix_9h6oqrfs430o-2{list-style-type:none}ol{margin:0;padding:0}table td,table th{padding:0}.c8{-webkit-text-decoration-skip:none;color:#000000;font-weight:400;text-decoration:line-through;vertical-align:baseline;text-decoration-skip-ink:none;font-size:11pt;font-family:"Arial";font-style:normal}.c1{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c2{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c11{padding-top:20pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c3{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c5{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c12{font-weight:400;vertical-align:baseline;font-size:20pt;font-family:"Arial";font-style:normal}.c4{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c10{background-color:#ffffff;max-width:600pt;}.c9{color:inherit;text-decoration:inherit}.c7{margin-left:108pt;padding-left:0pt}.c6{padding:0;margin:0}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style><div class="c10 doc-content"><h1 class="c11" id="h.ico32gsqi9q1"><span class="c4"><a class="c9" href="https://www.google.com/url?q=https://www.w3.org/events/meetings/34bd1351-a110-4d25-89bf-e876bb442e47&amp;sa=D&amp;source=editors&amp;ust=1664552834541373&amp;usg=AOvVaw3P9OhuBfRc9_1R8_R3oJh1"><b>Meeting Notes for TPAC Breakout</b>: Allowing public resources to opt-out of privacy protections </a></span></h1><p class="c3"><span class="c0"></span></p><p class="c5"><span>(</span><span class="c4"><a class="c9" href="https://www.google.com/url?q=https://irc.w3.org/?channels%3D%2523access-control-public&amp;sa=D&amp;source=editors&amp;ust=1664552834541935&amp;usg=AOvVaw02ENCzBZ8NYAEW-ZHJiiHf">IRC chat</a></span><span class="c0">)</span></p><p class="c3"><span class="c0"></span></p><ul class="c6 lst-kix_9h6oqrfs430o-0 start"><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Covered a bit yesterday in Web App Sec</span></li><li class="c1 li-bullet-0"><span class="c0">…wanted to continue the conversation here.</span></li><li class="c1 li-bullet-0"><span class="c0">Noam R wanted to cover this, Yoav is covering</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Public resources, never change based on credentials, all requests get the same response, but can vary based on some headers (e.g. Accept)</span></li><li class="c1 li-bullet-0"><span class="c0">Today, these resources are opaque by default.</span></li><li class="c1 li-bullet-0"><span class="c0">CANT read response body, read headers, get timing info, embed cross-origin-isolated docs</span></li><li class="c1 li-bullet-0"><span class="c0">[comment]</span></li><li class="c1 li-bullet-0"><span class="c0">We have Response opt-ints:</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">Access-control-allow-origin</span></li><li class="c2 li-bullet-0"><span class="c0">Access-control-allow-header</span></li><li class="c2 li-bullet-0"><span class="c0">TAO</span></li><li class="c2 li-bullet-0"><span class="c0">CORS</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Problem, some of these require request opt-ins also</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">CORS request mode</span></li><li class="c2 li-bullet-0"><span class="c0">Some don’t have an opt in at all (e.g. background images)</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Devs not happy about CORS and the ergonomics (feedabck)</span></li><li class="c1 li-bullet-0"><span class="c0">Let's fix!</span></li><li class="c1 li-bullet-0"><span class="c0">Use cases -</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">Developer ergonomics</span></li><li class="c2 li-bullet-0"><span class="c0">Image CDNs (image timing, canvas manipulation, reduce complexity for CORS/observable features)</span></li><li class="c2 li-bullet-0"><span class="c0">Timing info for static embedded resources</span></li><li class="c2 li-bullet-0"><span class="c0">Others?</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Some concerns in CDNs when adding new image formats</span></li><li class="c1 li-bullet-0"><span class="c0">Some concerns about adding new information (width/height) which makes things difficult to ensure this is not public visible– but for public resources these should be public visible</span></li><li class="c1 li-bullet-0"><span class="c0">Fixing this situation would allow more public static embedded resources to expose timing resources which will help RUM providers</span></li><li class="c1 li-bullet-0"><span class="c0">Other use cases? Martin</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: No use cases, feedback on desk, later</span></li><li class="c1 li-bullet-0"><span class="c0">Proposal</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">Issue whatwg/html/issues/8143</span></li><li class="c2 li-bullet-0"><span class="c0">A single (new) response opt-in for public resources</span></li><li class="c2 li-bullet-0"><span class="c0">Can't override `ACAO: *` semantics or value</span></li><li class="c2 li-bullet-0"><span class="c0">No request opt-in</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Lol meme on new header</span></li><li class="c1 li-bullet-0"><span class="c0">Proposal</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">“Access-Control: public” (bikeshed)</span></li><li class="c2 li-bullet-0"><span class="c0">Header on the Response of the public resource</span></li><li class="c2 li-bullet-0"><span class="c0">tell the browser it's OK to expose..</span></li><li class="c2 li-bullet-0"><span class="c0">Pass CORP/TAO check, even if the request was not set</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Open Questions</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">Bikeshed on name</span></li><li class="c2 li-bullet-0"><span class="c0">Should these also expose Headers?</span></li><li class="c2 li-bullet-0"><span class="c0">Should it work with “fetch(request, { mode: “no-cors” })” ?</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-2 start"><li class="c5 c7 li-bullet-0"><span class="c0"><b>Yoav</b>: Not sure, I don’t see issues here, Dominic mentioned it yesterday</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1"><li class="c2 li-bullet-0"><span class="c0">Footgun mitigations</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-2 start"><li class="c5 c7 li-bullet-0"><span class="c0">Maybe if cache-control: private etc are set, we can assume the header was wrong?</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: What happens if someone does not put “Access-Control: public” but still wants a public resource, mixed signals?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Francois</b>: What about data that changes?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: Thats “Max-Age”</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: Public resource, static, doesn’t change… could we include a hash of the resource that has to match?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: We already make folks do this for web socket etc, jump through hoops, means you have to understand the content exactly, but the header is dynamic– can be difficult for a server to do</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Plus there is the content-negotiation angle, where the hash will differ based on the “Accept” header…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: Okay, so the resources can differ after all?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: If things change, language etc, if we expose those to be readable cross site, that could be a leak.. Want to prevent accidental exposure</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: Correct, that is the primary concern here.</span></li><li class="c1 li-bullet-0"><span class="c0">…In cases where you “Vary” based on things, e.g. “Vary: Cookie”, we should consider those “mixed signals” and turn this feature off</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: This is not something that happens often, but Cache-Control: Private</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: …or no-store does</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: We may even want to insist that “Cache-Control: Public” is set</span></li><li class="c1 li-bullet-0"><span class="c0"><b>David Baron</b>: Some of these headers are about describing things about the resource… some are about requesting specific behaviors… may be advantages to having headers that are clearly things about the resource, like, we didn’t use and creds to generate this… just because it is so hard to reason about security props of these things</span></li><li class="c1 li-bullet-0"><span class="c0">…seems in some ways safer to make developers factual statements about things and implementers use that, rather than request specific security properties</span></li><li class="c1 li-bullet-0"><span class="c0">…one example from the wild that is a mixed example, Access-Allow-Origin: * is designed to state not behind a firewall, the rules are very complicated because of design, but the name does not make that very obvious at all</span></li><li class="c1 li-bullet-0"><span class="c0">…I’m not advocating a particular solution here, just a comment about some existing work in this space</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Is the primary concern about naming here?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>David</b>: In some ways it's about naming, but related to Martin's comment about various headers contradicting others… Cache-Control: private is a description of BEHAVIOUR not resource, and so this feels a weaker statement as compared to this which is about RESOURCE</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Okay, I agree, but at the same time, if the declaration of the behaviour and resource are contradictory, we probably should assume its contradictory, and fallback to assume the safer fallback so devs dont shoot selves in foot</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: That's why we should explicitly require setting a specific way</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: (Chrome Web Security - lyf) We talked about Cookies today, what about URL queries?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: For sure, these are very common. &nbsp;Is there a reason not to consider them public?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Arthur</b>: Just to note, a resource is less likely to be public with query parameters</span></li><li class="c1 li-bullet-0"><span class="c0"><b>David D</b>: These are purposely attached so not an accidental leak.. No concerns…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: Would these resources be allowed to access local storage?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: If it is a script, then yes.</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: Are they isolated from the document? No…</span></li><li class="c1 li-bullet-0"><span class="c0">…They would not be. Local Storage would specifically be an issue if the public resource which is cross-origin potentially being able to access the memory data of the local storage of the main document as they are in the same process and not isolated from each other.</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: as discussed yesterday, this does not give the embedding context any more information other than resource timing, but there was a concern related to iframes which the resource timing data is exposed up to parent document</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: would a public static resource be able to become an iframe/frame?</span></li><li class="c1 li-bullet-0"><span class="c0">“CORP: cross-origin” issues?</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">…we end up embedding it in … don’t have site isolation, more risk of spectre</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span class="c0">Yoav:</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-1 start"><li class="c2 li-bullet-0"><span class="c0">In the context of CORP it goes beyond a declaration of the resource itself…</span></li></ul><ul class="c6 lst-kix_9h6oqrfs430o-0"><li class="c1 li-bullet-0"><span>Camille</span><span class="c0"><b></b>: The proposal here would not take precedence over ? options, we still respect ? then we do not bypass … and … CSP frame ancestor… Good indication that the resource is not quite public in fact</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Another thing to include in the Foot-gun mitigations</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Ian</b>: Giving example of a Twitter example that starts not customized, but then uses JS to customize itself. &nbsp;Initial response vs runtime values.</span></li><li class="c1 li-bullet-0"><span class="c0">If the initial response is completely decoupled…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: The way Twitter serves content: completely generic to every request, then they followup at runtime to customize, &nbsp;fetches that follow are private.</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: May be reasonable just based on TAO?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Francois</b>: Even public resources may change based on some identification. Even public open data can fall into DDOS so sometimes they require a token and be allowed to reject? &nbsp;Perhaps based on usage. &nbsp;May still need to know the origin of the request to know if it is legitimate.</span></li><li class="c1 li-bullet-0"><span class="c0">…Many CDNs need to do this, to verify that you are a legitimate user</span></li><li class="c1 li-bullet-0"><span class="c0">…I guess there are many ways to do that, request may result in an error message response, is this something that the page can get?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Should we only respect this for 200 OK</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: …</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Michal</b>: ...</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Charlie</b>: … What if you use a Cookie just for a specific use case</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Charlie</b>: We should make sure footcut mitigations aren't killing the use cases. &nbsp;Let's be careful about that, use with limit</span></li><li class="c1 li-bullet-0"><span class="c0">… +1 to query parameter concern, super common to embed use data this way, that kind of footgun should be considered.</span></li><li class="c1 li-bullet-0"><span class="c0">… Maybe it suffices to bikeshed on naming to make this far more scary. &nbsp;<b>Response should not have any user data at all</b>: proposal “Has-User-Data: no”</span></li><li class="c1 li-bullet-0"><span class="c0">… similar to network annotations in Chrome code, have to state what the network reply will contain (e.g. wont have user data)</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Sure, I’m fine with any name</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Ian</b>: Footgun, do we need to consider private networks? Credentials, but also network type is private data? Are we excluding resources on private network addresses from allowing to declare themselves public?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: There is actually an effort Private-Network-Access… envision a way, direction, to treat as public on private IP addresses, not to relax security, but to have enhanced security</span></li><li class="c1 li-bullet-0"><span class="c0">…some things may actually be more public-like than private-like, and want to opt-in to all the extra checks</span></li><li class="c1 li-bullet-0"><span class="c0">…what we have so far, we thought it would be so easy, and there would be few harder use case… but… we found that there were some very interesting cases when it comes to proxies. &nbsp;People do use proxies, especially in China, to bypass firewall.. Mixing private and public resources in the same pages, because only some of the resources are bypassed, some are not blocked by the wall..</span></li><li class="c1 li-bullet-0"><span class="c0">…we may find that resources which are private (IP) are marked as public, and only private because it was accessed by a proxy at some point.</span></li><li class="c1 li-bullet-0"><span class="c0">…perhaps we can use this to help distinguish, but I dont think we can use private network to make the distinction</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: Depends if … IP address might be different?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: Suggest we also add to spec to consider also implementing private network access ?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: On Naming, based on Web Platform Sec in Chrome, we want to make sure w e convey to users what we are doing with this… making the resource completely unsafe, bypass a bunch of policies… any new policies this thing will come up, and we will have to discuss this and say this is meant to bypass… for example … If we had had this in the past we would have used it</span></li><li class="c1 li-bullet-0"><span class="c0">…We may in the future say that this is meant to opt out of everything. &nbsp;So maybe the name needs to be something like “Unsafe-*”</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: I am not personally convinced that the word “Unsafe” is the correct word, but it makes sense to bikeshed on this topic</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: right, it doesn’t have to be just that one word</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Charlie’s recommendation “Has-User-Data: no” is the right direction – but lets run user surveys to figure this out</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: Likely what will happen from SEC perspective is that this is considered unsafe, and we will end up disabling any future features</span></li><li class="c1 li-bullet-0"><span class="c0"><b>David D</b>: (Chrome security) first +1 to Cammile</span></li><li class="c1 li-bullet-0"><span class="c0">.. We're defining a header whose meaning will change over time, and we need to be aware of that</span></li><li class="c1 li-bullet-0"><span class="c0">… On Query Params,... I don’t see the footgun potential on that. On headers, should this be equivalent to Access-Control-Expose-HEader: *.. I would say it shouldn't’, because a resource can be public-static but headers can expose private information (e.g. debugging info)</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Reply</b>: &nbsp;(martin thomson) don't do headers</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur J</b>: (Google security team)... we need to consider that it is easy to mis-apply a header to a resources. &nbsp;Lots of applications are dynamic, multiple resources go through a common handler</span></li><li class="c1 li-bullet-0"><span class="c0">…the saving grace for CORS is that one error is not quite enough… I really see a footgun potential here. Cannot be mitigated by namng: &nbsp;It can sound really scary, but it will be enticing and developers will mis-apply it for the value it gives and not realize what the implications are.</span></li><li class="c1 li-bullet-0"><span class="c0">… so much of the response is based on user state but is not itself user state, so its hard to get the language right always</span></li><li class="c1 li-bullet-0"><span class="c0">… the mitigations we have been discussing so far, both prevent the footguns but also reduce the value</span></li><li class="c1 li-bullet-0"><span class="c0">…e.g. If we ignore cookies , then we can't use this on domains with cookies, if we force hash, then we exclude dynamic responses</span></li><li class="c1 li-bullet-0"><span class="c0">… but what if we layer both.. E.g. no cookies means it has to match, if it has cookies, …</span></li><li class="c1 li-bullet-0"><span class="c0">… maybe if we do some combination of strategies we can cover a larger overall surface area, still making it more difficult to misconfigured</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: seems complex, but it may have a slot in some set of use cases, e.g. cookie-less domain use cases</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: if we restrict to cookie-less domains, we will find there are enough folks with demand for this that are not applicable, that we’ll just be back here again</span></li><li class="c1 li-bullet-0"><span class="c0">…perhaps the specific suggestion to a? Seems interesting</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: this seems generally hard, because you do not want to ask folks to spray cross-origin attributes over every tag, and background images don't even have that, at the same time the image case is on a cookie-less domain</span></li><li class="c1 li-bullet-0"><span class="c0">… then if you do have a cookie, maybe you need some other restrictions</span></li><li class="c1 li-bullet-0"><span class="c0">… lets look at it from different angles and see which mitigations would work</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: People are “almost cookie-less” use cases quite often, e.g. the DDOS use case, attach a nearly useless cookie is stuck everywhere (just for request count tracking)</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: will have to study more close</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Francois</b>: Perhaps we can have “cookie does not contain user-data”</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: …but they do</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: we don’t know if the response wont have user data in the response</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: Trying to figure out, if we wanted to adopt this at google.com</span></li><li class="c1 li-bullet-0"><span class="c0">… google.com uses cookies, so we could use this.</span></li><li class="c1 li-bullet-0"><span class="c0">… gstatic.com we could maybe use this</span></li><li class="c1 li-bullet-0"><span class="c0">… on that domain there are lots of static script images etc</span></li><li class="c1 li-bullet-0"><span class="c0">… but we would like to use a hash to prove that the resources dont change</span></li><li class="c1 li-bullet-0"><span class="c0">… could also want to apply this to large script that is dynamically generated, we would need to apply the hash after resource is totally dont, poor for perf</span></li><li class="c1 li-bullet-0"><span class="c0">… [...] maybe annotation request for this resource should not carry cookies?</span></li><li class="c1 li-bullet-0"><span class="c0">… may not be practical, but it would give us the properties we would need… give devs the tools to load things safely</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Perhaps we could load these with CORS and loaded credentials… if you do need cookies but confidence not exposing data, this is what CORS credentials is for</span></li><li class="c1 li-bullet-0"><span class="c0">… another thing about hashes, there is a cost when generating, but also when consuming, especially images (scripts and styles?)</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: Need to be able to abort work if it doesn’t match?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: Okay maybe a hash of only the first 100 bytes, &lt;laughter&gt;</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Francois</b>: what do you gain on computing a hash</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Artur</b>: same as access-control: allow-origin, the value is that you have to explicitly write server-side code that is easier to mess up than to get right… and fails by default.</span></li><li class="c1 li-bullet-0"><span class="c0">… instead of just blindly applying a header by accident</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Charlie</b>: Indeed, a static header is too easy to apply broadly</span></li><li class="c1 li-bullet-0"><span class="c0">… it's almost like a simple proof-of-work thing, maybe you need to mine some coin on each request</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Ian</b>: I understand </span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: Who is familiar with the Web Sockets handshake?</span></li><li class="c1 li-bullet-0"><span class="c0">… We did something similar there, and it was so un-ergonomic that we are not replacing it.</span></li><li class="c1 li-bullet-0"><span class="c0">… in my experience dvs to go Stack Overflow and will copy anything to jump through hoops to get it done</span></li><li class="c1 li-bullet-0"><span class="c0">… appreciate that we want to ensure devs are making a conscious choice… but [..]</span></li><li class="c1 li-bullet-0"><span class="c0">… perhaps how many hoops we require devs to jump through should depend on the nature of the promise we make here, especially as it relates to the future of changes/promises of what this will entail</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Eric</b>: What you are saying is “I don't care if this is read across origins”</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: Right, but we need to make sure, when we are shaving between “make it easy” and “lets not make it to easy” we need to take this into account. &nbsp;This is scary, people will make a mistake if its too convenient</span></li><li class="c1 li-bullet-0"><span class="c0">… to be said, its convenient to make lots of these things already</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Eric</b>: I agree with Martin over the issue of the hash… just making it less easy to do as some warning, will be almost immediately negated via plugin authors… and soon most requests are doing it</span></li><li class="c1 li-bullet-0"><span class="c0">… this doesn’t achieve any of the goals</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: Concerns from Sec/privacy, because we are modifying resources and guarantees, for example ??? , XO iframes, fenced frames</span></li><li class="c1 li-bullet-0"><span class="c0">… for sec/privacy we are trying to set how all this context works… as these become more widespread…???</span></li><li class="c1 li-bullet-0"><span class="c0">…maybe as we think about safeguards now, we may maybe have had those environments in mind</span></li><li class="c1 li-bullet-0"><span class="c0">… example fenced frame… you get a temporary and ephemeral particution and cookie store.. Bypass many security policies already… but we allow it because its ephemeral</span></li><li class="c1 li-bullet-0"><span class="c0">… maybe its fine to omit specific security mitigations</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Just when there is this specific opt-in?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: Right, maybe we don’t need to do any extra checks, because its already so restricted here.</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Francois</b>: Cannot use Fenced frame exclusively, example…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: It’s not limit to FF but that we don't need extra constraints</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: … as these special contexts become more widespread… maybe we don't care about footgun mitigations as much any more?</span></li><li class="c1 li-bullet-0"><span class="c0">… because these contexts are already footgun protection</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yifan</b>: Should we set HTTPS only for this?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: Sure?</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Marin</b>: if its sent over HTTP may as well treat all resources with this anyway :P</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Erin</b>: ??</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: We had to mark the whole page as unsafe when coming over http</span></li><li class="c1 li-bullet-0"><span class="c0">…let's not break mixed content…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Martin</b>: If you explicitly put on a response in the clear, that one thing, but if someone places this over the resource, that opens a new set of concerns</span></li><li class="c1 li-bullet-0"><span class="c0">… would be safest if http no longer existed</span></li><li class="c1 li-bullet-0"><span class="c0">&lt;agreed&gt;</span></li><li class="c1 li-bullet-0"><span class="c0">… let's continue as if it didn’t exist</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Camille</b>: Lets restrict to secure context, to motivate adoption further</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Yoav</b>: sure, maybe, but the injection attacks are incentive enough</span></li><li class="c1 li-bullet-0"><span class="c0">…</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Arthur</b>: [?] partitioned cookies</span></li><li class="c1 li-bullet-0"><span class="c8"><b>Camille</b>: lets look at the future of the web… partitioned cookies, storage, frames, etc… maybe in thai world we dont care as much about the footguns</span></li><li class="c1 li-bullet-0"><span class="c8"><b>Arthur</b>: well the failure case is still the the request was made without creds, but …[</span></li><li class="c1 li-bullet-0"><span class="c0">&lt;Sorry, missed scribing last few minutes of dialog&gt;</span></li><li class="c1 li-bullet-0"><span class="c0"><b>Final Idea</b>: Path reflection</span></li><li class="c1 li-bullet-0"><span class="c0">If you want the URL of the resource to match path specified in the header… will prove that the resources matches what they had in mind when they set the header</span></li><li class="c1 li-bullet-0"><span>Similar to CORS for for resource-level</span></li></ul></div></div><script type="text/javascript" nonce="">(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
function k(){return function(){}}var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}var l;
if("function"==typeof Object.setPrototypeOf)l=Object.setPrototypeOf;else{var m;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;m=ha.a;break a}catch(a){}m=!1}l=m?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=l;
function n(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.m=b.prototype}ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});
ea("Array.prototype.find",function(a){return a?a:function(b,c){a:{var d=this;d instanceof String&&(d=String(d));for(var e=d.length,f=0;f<e;f++){var g=d[f];if(b.call(c,g,f,d)){b=g;break a}}b=void 0}return b}});var p=this||self;function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}
function ka(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.D=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}}function r(a){return a};function t(a){t[" "](a);return a}t[" "]=k();function la(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function ma(a){return la(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++na}}})}var na=1E3;function u(){}u.prototype.u=function(){return this.j||(Object.defineProperties(this,{j:{value:oa=oa+1|0,enumerable:!1}}),this.j)};u.prototype.toString=function(){var a=w(x(pa(this.constructor)))+"@";var b=(this.u()>>>0).toString(16);return a+w(b)};function y(){}n(y,u);y.prototype.h=function(a){this.g=a;qa(this,a)};function ra(a){a.g instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(a.g):a.g.stack=Error().stack)}y.prototype.toString=function(){var a=x(pa(this.constructor)),b=this.l;return null==b?a:w(a)+": "+w(b)};function sa(a){if(null!=a){var b=a.A;if(null!=b)return b}a instanceof TypeError?(b=new ta,b.l=w(a),ra(b),b.i=a,b.h(new TypeError(b)),a=b):(b=new z,b.l=w(a),ra(b),b.i=a,b.h(Error(b)),a=b);return a}
function qa(a,b){if(b instanceof Object)try{b.A=a,Object.defineProperties(b,{cause:{get:function(){return a.s&&a.s.g}}})}catch(c){}};function A(){}n(A,y);function B(){}n(B,A);function z(){}n(z,B);z.prototype.h=function(a){B.prototype.h.call(this,"__noinit__"===this.i?a:this.i)};function ta(){}n(ta,z);var oa=0;function C(){}var ua,va;n(C,u);function wa(){wa=k();va=new D;ua=new E};function D(){}n(D,C);D.prototype.toString=function(){return""};function E(){}n(E,C);E.prototype.toString=function(){return"unknown"};function w(a){return null==a?"null":a.toString()}function xa(a){return 65536<=a?w(String.fromCharCode((55296+((a-65536|0)>>10&1023)|0)&65535))+w(String.fromCharCode((56320+((a-65536|0)&1023)|0)&65535)):String.fromCharCode(a&65535)}function ya(a,b){var c=a.length,d,e=(d=b,b=b+1|0,d);d="string"===typeof a?a.charCodeAt(e):a.g(e);var f;if(c=55296<=d&&56319>=d&&b<c)a=f="string"===typeof a?a.charCodeAt(b):a.g(b),c=56320<=a&&57343>=a;var g;c?g=65536+((d&1023)<<10)+(f&1023)|0:g=d;return g};function F(a,b){this.g=a;this.h=b}n(F,u);function x(a){if(0!=a.h){var b="L"+w(ma(a.g))+";";a=a.h;for(var c="",d=0;d<a;d=d+1|0)c=w(c)+"[";return w(c)+w(b)}return ma(a.g)}F.prototype.toString=function(){return"class "+w(x(this))};function pa(a){return la(a.prototype,"$$class/0",function(){return new F(a,0)})};function za(a){var b=a;try{var c;if(c="www.google.com"===Aa(a)){var d=Ba(a)[5];c="/url"===G(d,!0)}if(c){var e=Ca(a,"q");b=e?e:Ca(a,"url")}}catch(f){if(f=sa(f),!(f instanceof A))throw f.g;}return null!=b?b:""};function G(a,b){return null==a?a:b?decodeURI(a):decodeURIComponent(a)};var Da;function Ba(a){H();a=Da.exec(a);for(var b=[],c=0;7>=c;c=c+1|0)a.length<=c||null==a[c]?b.push(null):b.push(a[c]);return b}function Aa(a){a=Ba(a);return G(a[3],!0)}
function Ca(a,b){H();var c=a.indexOf(xa(35));c=0>c?a.length:c;a:{var d=0;for(var e=b.length;0<(d=a.indexOf(b,d))&&d<c;){var f=ya(a,d-1|0);if(38==f||63==f){if((d+e|0)>=a.length)break a;f=ya(a,d+e|0);if(61==f||38==f||35==f)break a}d=d+(e+1)|0}d=-1}if(0>d)return null;e=a.indexOf(xa(38),d);if(0>e||e>c)e=c;d=d+(b.length+1)|0;b=Math.min(a.length,d);a=a.substr(b,Math.min(a.length,Math.max(d,e))-b|0);c=" ";for(b=0;0<=(b=c.indexOf("\\",b));)36==c.charCodeAt(b+1|0)?(d=w(c.substr(0,b|0))+"$",e=b=b+1|0,c=d+w(c.substr(e))):
(d=w(c.substr(0,b|0)),e=b=b+1|0,c=d+w(c.substr(e)));a=a.replace(RegExp("\\+","g"),c);return G(a,!1)}function H(){H=k();Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\S\\s]*))?$")};function Ea(){Ea=k();Fa||Ga()};var Ha=/&/g,Ia=/</g,Ja=/>/g,Ka=/"/g,La=/'/g,Ma=/\x00/g,Na=/[\x00&<>"']/;var Oa=null,I;I=null;function J(){var a;if(null==Oa)a:{if(a=p.navigator)if(a=a.userAgent)break a;a=""}else a=Oa;return a}function K(a){return-1!=J().indexOf(a)};function Pa(){var a=I;return!!a&&0<a.brands.length}function Qa(a){a.forEach(k())}function Ra(){for(var a=J(),b=RegExp("([A-Z][\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),c=[],d;d=b.exec(a);)c.push([d[1],d[2],d[3]||void 0]);Qa(c)}function Ga(){Pa()?I.brands.find(function(a){return"Firefox"===a.brand}):Ra()};var Sa=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Ta=Pa()?!1:K("Trident")||K("MSIE"),Ua=K("Edge")||Ta,Va=K("Gecko")&&!(-1!=J().toLowerCase().indexOf("webkit")&&!K("Edge"))&&!(K("Trident")||K("MSIE"))&&!K("Edge"),Fa=-1!=J().toLowerCase().indexOf("webkit")&&!K("Edge"),Wa=I,Xa=Wa&&Wa.platform?"macOS"===I.platform:K("Macintosh");function Ya(a){a&&"function"==typeof a.v&&a.v()};function L(){this.h=this.h;this.g=this.g}L.prototype.h=!1;L.prototype.v=function(){this.h||(this.h=!0,this.j())};L.prototype.j=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function Za(a,b,c){for(var d in a)b.call(c,a[d],d,a)};var M;function N(a,b){this.i=a===$a&&b||"";this.j=ab}N.prototype.h=!0;N.prototype.g=function(){return this.i};var ab={},$a={};function O(a,b){this.i=b===P?a:""}O.prototype.toString=function(){return this.i.toString()};O.prototype.h=!0;O.prototype.g=function(){return this.i.toString()};function Q(a){return a instanceof O&&a.constructor===O?a.i:"type_error:SafeUrl"}var bb=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,cb=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function db(a){if(a instanceof O)return a;a="object"==typeof a&&a.h?a.g():String(a);cb.test(a)||(a="about:invalid#zClosurez");return new O(a,P)}
var P={},eb=new O("about:invalid#zClosurez",P);var fb={};function R(a,b){this.i=b===fb?a:"";this.h=!0}R.prototype.g=function(){return this.i.toString()};R.prototype.toString=function(){return this.i.toString()};function gb(a,b,c,d){a=a instanceof O?a:db(a);b=b||p;c=c instanceof N?c instanceof N&&c.constructor===N&&c.j===ab?c.i:"type_error:Const":c||"";return void 0!==d?b.open(Q(a),c,d):b.open(Q(a),c)};function S(a,b){this.type=a;this.target=b;this.i=!1}S.prototype.g=function(){this.i=!0};var hb=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{p.addEventListener("test",k(),b),p.removeEventListener("test",k(),b)}catch(c){}return a}();function T(a){S.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.h=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var d=a.relatedTarget;if(d){if(Va){a:{try{t(d.nodeName);var e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:ib[a.pointerType]||"";this.state=a.state;this.h=a;a.defaultPrevented&&T.m.g.call(this)}}ka(T,S);var ib={2:"touch",3:"pen",4:"mouse"};T.prototype.g=function(){T.m.g.call(this);var a=this.h;a.preventDefault?a.preventDefault():a.returnValue=!1};var U="closure_listenable_"+(1E6*Math.random()|0);var jb=0;function kb(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.h=e;this.key=++jb;this.g=this.o=!1}function lb(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function V(a){this.src=a;this.g={};this.h=0}V.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!d&&h.h==e)break a}g=-1}-1<g?(b=a[g],c||(b.o=!1)):(b=new kb(b,this.src,f,!!d,e),b.o=c,a.push(b));return b};var mb="closure_lm_"+(1E6*Math.random()|0),nb={},ob=0;function pb(a,b,c,d,e){if(d&&d.once)return qb(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)pb(a,b[f],c,d,e);return null}c=rb(c);return a&&a[U]?a.g(b,c,q(d)?!!d.capture:!!d,e):sb(a,b,c,!1,d,e)}
function sb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=q(e)?!!e.capture:!!e,h=tb(a);h||(a[mb]=h=new V(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=ub();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)hb||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(vb(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");ob++;return c}
function ub(){function a(c){return b.call(a.src,a.listener,c)}var b=wb;return a}function qb(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)qb(a,b[f],c,d,e);return null}c=rb(c);return a&&a[U]?a.h(b,c,q(d)?!!d.capture:!!d,e):sb(a,b,c,!0,d,e)}
function xb(a){if("number"!==typeof a&&a&&!a.g){var b=a.src;if(b&&b[U])b.i(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(vb(c),d):b.addListener&&b.removeListener&&b.removeListener(d);ob--;if(c=tb(b)){d=a.type;if(d in c.g){var e=c.g[d],f=Sa(e,a),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);g&&(lb(a),0==c.g[d].length&&(delete c.g[d],c.h--))}0==c.h&&(c.src=null,b[mb]=null)}else lb(a)}}}
function vb(a){return a in nb?nb[a]:nb[a]="on"+a}function wb(a,b){if(a.g)a=!0;else{b=new T(b,this);var c=a.listener,d=a.h||a.src;a.o&&xb(a);a=c.call(d,b)}return a}function tb(a){a=a[mb];return a instanceof V?a:null}var yb="__closure_events_fn_"+(1E9*Math.random()>>>0);function rb(a){if("function"===typeof a)return a;a[yb]||(a[yb]=function(b){return a.handleEvent(b)});return a[yb]};function W(a){L.call(this);this.l=a;this.i={}}ka(W,L);var zb=[];function Ab(a){Za(a.i,function(b,c){this.i.hasOwnProperty(c)&&xb(b)},a);a.i={}}W.prototype.j=function(){W.m.j.call(this);Ab(this)};W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Bb(a,b,c,d){b=void 0===b?!1:b;c=void 0===c?!1:c;d=void 0===d?"editors":d;L.call(this);this.i=a||document.body;this.s=!!b;this.u=!!c;this.B=d;this.l=new W(this);a=ja(Ya,this.l);this.h?a():(this.g||(this.g=[]),this.g.push(a));a=this.l;b=this.i;c=this.C;d="click";Array.isArray(d)||(d&&(zb[0]=d.toString()),d=zb);for(var e=0;e<d.length;e++){var f=pb(b,d[e],c||a.handleEvent,!1,a.l||a);if(!f)break;a.i[f.key]=f}}n(Bb,L);
Bb.prototype.C=function(a){if(!(0!=a.h.button||Xa&&a.ctrlKey||a.i))for(var b=a.target;b&&b!=this.i;){if(b.tagName&&"a"==b.tagName.toLowerCase()){var c=b.getAttribute("href")||b.getAttributeNS("http://www.w3.org/1999/xlink","href"),d=za(c);if(c!=d){a:{b=void 0;Ea();try{b=Aa(d)}catch(v){v=sa(v);if(v instanceof A){b=!1;break a}throw v.g;}var e;if(e=null!=b){e=(wa(),va);var f=ua;b=Object.is(e,f)||null==e&&null==f?b.toLocaleLowerCase():b.toLowerCase();e=".google.com"===b.substr(b.length-11|0,11)}b=e}if(!b)if(this.u){c=
za(d);if(Object.is(c,d)||null==c&&null==d)d="//www.google.com/url?q="+w(encodeURIComponent(d)),d=w(d)+"&sa=D";d+="&source="+this.B}else d=this.s?c:d;var g=d;b=void 0;c={target:"_blank",noreferrer:!0};d=window;g instanceof O?e=g:(e="undefined"!=typeof g.href?g.href:String(g),e instanceof O||(e="object"==typeof e&&e.h?e.g():String(e),cb.test(e)?e=new O(e,P):(e=String(e),e=e.replace(/(%0A|%0D)/g,""),e=e.match(bb)?new O(e,P):null)),e=e||eb);var h=void 0!==self.crossOriginIsolated;f="strict-origin-when-cross-origin";
window.Request&&(f=(new Request("/")).referrerPolicy);var Db="unsafe-url"===f;f=c.noreferrer;if(h&&f){if(Db)throw Error("Cannot use the noreferrer option on a page that sets a referrer-policy of `unsafe-url` in modern browsers!");f=!1}g=c.target||g.target;h=[];for(b in c)switch(b){case "width":case "height":case "top":case "left":h.push(b+"="+c[b]);break;case "target":case "noopener":case "noreferrer":break;default:h.push(b+"="+(c[b]?1:0))}b=h.join(",");if((K("iPhone")&&!K("iPod")&&!K("iPad")||K("iPad")||
K("iPod"))&&d.navigator&&d.navigator.standalone&&g&&"_self"!=g)c="A",b=document,c=String(c),"application/xhtml+xml"===b.contentType&&(c=c.toLowerCase()),b=c=b.createElement(c),e=e instanceof O?e:db(e),b.href=Q(e),c.target=g,f&&(c.rel="noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,d,1),c.dispatchEvent(b);else if(f){if(d=gb("",d,g,b),c=Q(e),d){Ua&&-1!=c.indexOf(";")&&(c="'"+c.replace(/'/g,"%27")+"'");d.opener=null;""===c&&(c="javascript:''");Na.test(c)&&(-1!=c.indexOf("&")&&
(c=c.replace(Ha,"&amp;")),-1!=c.indexOf("<")&&(c=c.replace(Ia,"&lt;")),-1!=c.indexOf(">")&&(c=c.replace(Ja,"&gt;")),-1!=c.indexOf('"')&&(c=c.replace(Ka,"&quot;")),-1!=c.indexOf("'")&&(c=c.replace(La,"&#39;")),-1!=c.indexOf("\x00")&&(c=c.replace(Ma,"&#0;")));c='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+c+'">';if(void 0===M)if(b=null,(e=p.trustedTypes)&&e.createPolicy){try{b=e.createPolicy("goog#html",{createHTML:r,createScript:r,createScriptURL:r})}catch(v){p.console&&
p.console.error(v.message)}M=b}else M=b;c=(b=M)?b.createHTML(c):c;c=new R(c,fb);(d=d.document)&&d.write&&(d.write(c instanceof R&&c.constructor===R?c.i:"type_error:SafeHtml"),d.close())}}else(d=gb(e,d,g,b))&&c.noopener&&(d.opener=null),d&&c.noreferrer&&(d.opener=null);a.g();break}}b=b.parentNode}};function Cb(a,b,c,d){new Bb(a,void 0===b?!1:b,void 0===c?!1:c,d)}var X=["DOCS_installLinkReferrerSanitizer"],Y=p;X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);
for(var Z;X.length&&(Z=X.shift());)X.length||void 0===Cb?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=Cb;}).call(this);
</script><script type="text/javascript" nonce="">DOCS_installLinkReferrerSanitizer( undefined,  true,  true, 'docs');</script></body></html>