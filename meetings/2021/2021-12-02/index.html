<!DOCTYPE html>
<!-- saved from url=(0127)https://docs.google.com/document/d/e/2PACX-1vTCxqGDJgDK6iCoEYXzSyFoZ5Ni77FTKbi8iekm8dmYUeey7t50oOdIgf1Nv3V4PrvfqmXztsRxzAX5/pub -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>WebPerfWG call - December 2nd 2021</title><link rel="shortcut icon" href="https://ssl.gstatic.com/docs/documents/images/kix-favicon7.ico"><meta name="referrer" content="strict-origin-when-cross-origin"><style type="text/css" nonce="">
      @import url("https://fonts.googleapis.com/css?family=Google+Sans_old");
      @import url("https://fonts.googleapis.com/css?family=Roboto");

      body {
        font-family: Roboto, arial, sans, sans-serif;
        margin: 0;
      }

      iframe {
        border: 0;
        frameborder: 0;
        height: 100%;
        width: 100%;
      }

      #banners {
        align-items: center;
        background: white;
        display: block;
        justify-content: space-between;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 100;
      }

      #banners #publish-banner {
        background-color: #e8f0fe;
        border-bottom: 1px #ccc solid;
        color: #202124;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #publish-banner-icon {
        display: flex;
        fill: #1967d2;
        margin: auto 20px;
      }

      #publish-banner-text {
        flex-grow: 1;
        margin: auto 0;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }

      #publish-banner-buttons {
        margin: auto 25px auto 0;
      }

      #publish-banner-buttons span {
        align-self: center;
        background-color: inherit;
        border: none;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        margin: 0 16px 0 32px;
      }

      #publish-banner-buttons a {
        color: #1967d2;
        cursor: pointer;
        font-family: "Google Sans", Roboto, RobotoDraft, Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
        text-decoration: none;
      }

      #banners #title-banner {
        background: white;
        border-bottom: 1px #ccc solid;
        display: flex;
        flex: 1 1 0%;
        height: 60px;
        width: 100%;
      }

      #banners #title-banner #title {
        flex-grow: 1;
        font-family: 'Google Sans';
        font-size: large;
        margin: auto 0 auto 20px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        width: 70%;
      }

      #banners #title-banner #interval {
        margin: auto 25px auto 0;
        font-family: Roboto;
        font-size: small;;
      }

      #footer {
        background: #f0f0f0;
        border-bottom: 1px #ccc solid;
        bottom: 0;
        font-family: Roboto;
        font-size: small;
        padding: 10px 10px;
        position: fixed;
        text-align: center;
        width: 100%;
      }

      #contents {
        padding: 50px 5% 50px 5%;
      }

      @media only screen and (max-device-width: 800px) {
        #banners #title-banner {
          border-bottom-width: 5px;
          height: auto;
          display: block;
        }

        #banners #title-banner #title {
          font-size: 3em;
          margin: auto 0 auto 20px;
          width: 90%;
        }

        #banners #title-banner #interval {
          font-size: 1.5em;
          margin: 10px 0 auto 25px;
        }

        #contents {
          padding: 150px 5% 80px;
        }

        #footer {
          font-size: 2em;
        }
      }

      .dash {
        padding: 0 6px;
      }
    </style></head><body><div id="banners"><div style="display:none" id="publish-banner"><span id="publish-banner-icon"><svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"><path d="M11 7h2v2h-2zm0 4h2v6h-2zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"></path></svg></span><div id="publish-banner-text">Published using Google Docs</div><div id="publish-banner-buttons"><span><a target="_blank" title="Learn more" href="https://support.google.com/docs/answer/183965">Learn More</a></span><span><a href="https://docs.google.com/u/0/abuse?id=AKkXjowiOe3A8Csjckf8KErBJr-hFKj6CZQ72ICJzoEQNWN94OWltpEORP0ZUraYIMZZHDhN5G4CTY84giU18EE:0"></a></span></div></div><div id="title-banner"><div id="title">WebPerfWG call - December 2nd 2021</div><div id="interval"><span></span></div></div></div><div id="contents"><style type="text/css">ul.lst-kix_jmg2tbrwetly-0{list-style-type:none}ul.lst-kix_jmg2tbrwetly-1{list-style-type:none}ul.lst-kix_jmg2tbrwetly-2{list-style-type:none}ul.lst-kix_jmg2tbrwetly-3{list-style-type:none}.lst-kix_oaqpqlubz5fv-1>li:before{content:"\0025cb  "}.lst-kix_oaqpqlubz5fv-0>li:before{content:"\0025cf  "}.lst-kix_mbbrvbfrf9zp-8>li:before{content:"\0025a0  "}.lst-kix_mbbrvbfrf9zp-7>li:before{content:"\0025cb  "}ul.lst-kix_xvfd47hgrn31-0{list-style-type:none}.lst-kix_mbbrvbfrf9zp-5>li:before{content:"\0025a0  "}ul.lst-kix_xvfd47hgrn31-3{list-style-type:none}ul.lst-kix_xvfd47hgrn31-4{list-style-type:none}.lst-kix_mbbrvbfrf9zp-4>li:before{content:"\0025cb  "}.lst-kix_mbbrvbfrf9zp-6>li:before{content:"\0025cf  "}ul.lst-kix_xvfd47hgrn31-1{list-style-type:none}ul.lst-kix_xvfd47hgrn31-2{list-style-type:none}ul.lst-kix_xvfd47hgrn31-7{list-style-type:none}ul.lst-kix_xvfd47hgrn31-8{list-style-type:none}ul.lst-kix_xvfd47hgrn31-5{list-style-type:none}ul.lst-kix_xvfd47hgrn31-6{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-5{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-1{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-6{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-2{list-style-type:none}ul.lst-kix_7zwohfiapvq-8{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-7{list-style-type:none}ul.lst-kix_7zwohfiapvq-7{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-8{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-0{list-style-type:none}ul.lst-kix_7zwohfiapvq-2{list-style-type:none}ul.lst-kix_7zwohfiapvq-1{list-style-type:none}ul.lst-kix_7zwohfiapvq-0{list-style-type:none}.lst-kix_5y7netdi88q1-0>li:before{content:"\0025cf  "}ul.lst-kix_mbbrvbfrf9zp-7{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-0{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-8{list-style-type:none}ul.lst-kix_7zwohfiapvq-6{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-1{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-5{list-style-type:none}ul.lst-kix_7zwohfiapvq-5{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-2{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-6{list-style-type:none}ul.lst-kix_7zwohfiapvq-4{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-3{list-style-type:none}.lst-kix_oaqpqlubz5fv-8>li:before{content:"\0025a0  "}ul.lst-kix_mbbrvbfrf9zp-3{list-style-type:none}ul.lst-kix_7zwohfiapvq-3{list-style-type:none}ul.lst-kix_oaqpqlubz5fv-4{list-style-type:none}ul.lst-kix_mbbrvbfrf9zp-4{list-style-type:none}.lst-kix_oaqpqlubz5fv-5>li:before{content:"\0025a0  "}.lst-kix_oaqpqlubz5fv-3>li:before{content:"\0025cf  "}.lst-kix_oaqpqlubz5fv-7>li:before{content:"\0025cb  "}.lst-kix_oaqpqlubz5fv-2>li:before{content:"\0025a0  "}.lst-kix_oaqpqlubz5fv-6>li:before{content:"\0025cf  "}.lst-kix_oaqpqlubz5fv-4>li:before{content:"\0025cb  "}.lst-kix_jmg2tbrwetly-0>li:before{content:"\0025cf  "}.lst-kix_jmg2tbrwetly-1>li:before{content:"\0025cb  "}.lst-kix_3eqyywuwff8h-5>li:before{content:"\0025a0  "}.lst-kix_3eqyywuwff8h-7>li:before{content:"\0025cb  "}.lst-kix_jmg2tbrwetly-3>li:before{content:"\0025cf  "}.lst-kix_3eqyywuwff8h-4>li:before{content:"\0025cb  "}.lst-kix_3eqyywuwff8h-8>li:before{content:"\0025a0  "}.lst-kix_jmg2tbrwetly-4>li:before{content:"\0025cb  "}.lst-kix_jmg2tbrwetly-5>li:before{content:"\0025a0  "}.lst-kix_3eqyywuwff8h-1>li:before{content:"\0025cb  "}.lst-kix_3eqyywuwff8h-3>li:before{content:"\0025cf  "}.lst-kix_jmg2tbrwetly-6>li:before{content:"\0025cf  "}.lst-kix_3eqyywuwff8h-2>li:before{content:"\0025a0  "}.lst-kix_3eqyywuwff8h-0>li:before{content:"\0025cf  "}.lst-kix_jmg2tbrwetly-2>li:before{content:"\0025a0  "}ul.lst-kix_5y7netdi88q1-0{list-style-type:none}ul.lst-kix_5y7netdi88q1-1{list-style-type:none}ul.lst-kix_5y7netdi88q1-2{list-style-type:none}.lst-kix_jmg2tbrwetly-8>li:before{content:"\0025a0  "}ul.lst-kix_5y7netdi88q1-3{list-style-type:none}ul.lst-kix_5y7netdi88q1-4{list-style-type:none}ul.lst-kix_5y7netdi88q1-5{list-style-type:none}ul.lst-kix_5y7netdi88q1-6{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-6{list-style-type:none}.lst-kix_jmg2tbrwetly-7>li:before{content:"\0025cb  "}ul.lst-kix_5y7netdi88q1-7{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-7{list-style-type:none}ul.lst-kix_5y7netdi88q1-8{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-8{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-2{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-3{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-4{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-5{list-style-type:none}ul.lst-kix_mrt27fy3dzuv-0{list-style-type:none}.lst-kix_3eqyywuwff8h-6>li:before{content:"\0025cf  "}ul.lst-kix_mrt27fy3dzuv-1{list-style-type:none}.lst-kix_mrt27fy3dzuv-6>li:before{content:"\0025cf  "}.lst-kix_mrt27fy3dzuv-4>li:before{content:"\0025cb  "}.lst-kix_mrt27fy3dzuv-8>li:before{content:"\0025a0  "}.lst-kix_mrt27fy3dzuv-3>li:before{content:"\0025cf  "}.lst-kix_mrt27fy3dzuv-7>li:before{content:"\0025cb  "}.lst-kix_mrt27fy3dzuv-5>li:before{content:"\0025a0  "}.lst-kix_xvfd47hgrn31-2>li:before{content:"\0025a0  "}.lst-kix_mrt27fy3dzuv-0>li:before{content:"\0025cf  "}.lst-kix_xvfd47hgrn31-3>li:before{content:"\0025cf  "}.lst-kix_mrt27fy3dzuv-2>li:before{content:"\0025a0  "}.lst-kix_xvfd47hgrn31-0>li:before{content:"\0025cf  "}.lst-kix_mrt27fy3dzuv-1>li:before{content:"\0025cb  "}.lst-kix_xvfd47hgrn31-1>li:before{content:"\0025cb  "}.lst-kix_vlmtjjvjpfzq-4>li:before{content:"\0025cb  "}ul.lst-kix_vlmtjjvjpfzq-0{list-style-type:none}.lst-kix_vlmtjjvjpfzq-5>li:before{content:"\0025a0  "}.lst-kix_vlmtjjvjpfzq-1>li:before{content:"\0025cb  "}ul.lst-kix_vlmtjjvjpfzq-2{list-style-type:none}.lst-kix_xvfd47hgrn31-7>li:before{content:"\0025cb  "}ul.lst-kix_vlmtjjvjpfzq-1{list-style-type:none}.lst-kix_vlmtjjvjpfzq-0>li:before{content:"\0025cf  "}.lst-kix_xvfd47hgrn31-6>li:before{content:"\0025cf  "}.lst-kix_vlmtjjvjpfzq-7>li:before{content:"\0025cb  "}.lst-kix_vlmtjjvjpfzq-8>li:before{content:"\0025a0  "}.lst-kix_xvfd47hgrn31-4>li:before{content:"\0025cb  "}.lst-kix_vlmtjjvjpfzq-6>li:before{content:"\0025cf  "}.lst-kix_7zwohfiapvq-8>li:before{content:"\0025a0  "}ul.lst-kix_3eqyywuwff8h-8{list-style-type:none}.lst-kix_xvfd47hgrn31-5>li:before{content:"\0025a0  "}ul.lst-kix_3eqyywuwff8h-7{list-style-type:none}ul.lst-kix_3eqyywuwff8h-6{list-style-type:none}ul.lst-kix_3eqyywuwff8h-5{list-style-type:none}ul.lst-kix_3eqyywuwff8h-4{list-style-type:none}ul.lst-kix_3eqyywuwff8h-3{list-style-type:none}ul.lst-kix_3eqyywuwff8h-2{list-style-type:none}ul.lst-kix_3eqyywuwff8h-1{list-style-type:none}ul.lst-kix_3eqyywuwff8h-0{list-style-type:none}.lst-kix_5y7netdi88q1-1>li:before{content:"\0025cb  "}.lst-kix_5y7netdi88q1-2>li:before{content:"\0025a0  "}.lst-kix_vlmtjjvjpfzq-2>li:before{content:"\0025a0  "}.lst-kix_5y7netdi88q1-3>li:before{content:"\0025cf  "}.lst-kix_xvfd47hgrn31-8>li:before{content:"\0025a0  "}.lst-kix_vlmtjjvjpfzq-3>li:before{content:"\0025cf  "}.lst-kix_5y7netdi88q1-5>li:before{content:"\0025a0  "}.lst-kix_mbbrvbfrf9zp-1>li:before{content:"\0025cb  "}.lst-kix_5y7netdi88q1-4>li:before{content:"\0025cb  "}.lst-kix_5y7netdi88q1-6>li:before{content:"\0025cf  "}.lst-kix_mbbrvbfrf9zp-0>li:before{content:"\0025cf  "}.lst-kix_mbbrvbfrf9zp-2>li:before{content:"\0025a0  "}.lst-kix_mbbrvbfrf9zp-3>li:before{content:"\0025cf  "}.lst-kix_7zwohfiapvq-1>li:before{content:"\0025cb  "}.lst-kix_5y7netdi88q1-8>li:before{content:"\0025a0  "}.lst-kix_5y7netdi88q1-7>li:before{content:"\0025cb  "}li.li-bullet-0:before{margin-left:-18pt;white-space:nowrap;display:inline-block;min-width:18pt}.lst-kix_7zwohfiapvq-0>li:before{content:"\0025cf  "}.lst-kix_7zwohfiapvq-5>li:before{content:"\0025a0  "}.lst-kix_7zwohfiapvq-3>li:before{content:"\0025cf  "}.lst-kix_7zwohfiapvq-7>li:before{content:"\0025cb  "}.lst-kix_7zwohfiapvq-2>li:before{content:"\0025a0  "}.lst-kix_7zwohfiapvq-6>li:before{content:"\0025cf  "}ul.lst-kix_vlmtjjvjpfzq-4{list-style-type:none}ul.lst-kix_jmg2tbrwetly-4{list-style-type:none}ul.lst-kix_vlmtjjvjpfzq-3{list-style-type:none}ul.lst-kix_jmg2tbrwetly-5{list-style-type:none}ul.lst-kix_vlmtjjvjpfzq-6{list-style-type:none}ul.lst-kix_jmg2tbrwetly-6{list-style-type:none}ul.lst-kix_vlmtjjvjpfzq-5{list-style-type:none}ul.lst-kix_jmg2tbrwetly-7{list-style-type:none}ul.lst-kix_vlmtjjvjpfzq-8{list-style-type:none}ul.lst-kix_jmg2tbrwetly-8{list-style-type:none}ul.lst-kix_vlmtjjvjpfzq-7{list-style-type:none}.lst-kix_7zwohfiapvq-4>li:before{content:"\0025cb  "}ol{margin:0;padding:0}table td,table th{padding:0}.c0{margin-left:36pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c5{margin-left:108pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c2{margin-left:72pt;padding-top:0pt;padding-left:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c10{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c1{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Arial";font-style:normal}.c9{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:16pt;font-family:"Arial";font-style:normal}.c12{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c8{padding-top:18pt;padding-bottom:6pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c14{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c11{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c7{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c6{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#0000ee;text-decoration:underline}.c15{background-color:#ffffff;max-width:600pt;}.c4{color:inherit;text-decoration:inherit}.c3{padding:0;margin:0}.c13{margin-left:36pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style><div class="c15"><h2 class="c8" id="h.d7nxicjzhi0l"><span class="c9">Participants</span></h2><p class="c11"><span>Yoav Weiss, Nic Jansma, </span><span class="c6"><a class="c4" href="mailto:achristensen@apple.com">Alex Christensen</a></span><span>, </span><span class="c6"><a class="c4" href="mailto:sullivan@google.com">Annie Sullivan</a></span><span>, Benjamin De Kosnik, Carine Bournez, Dan Shappir, </span><span class="c6"><a class="c4" href="mailto:mmocny@google.com">Michal Mocny</a></span><span>, Patrick Meenan, Scott Gifford, </span><span class="c6"><a class="c4" href="mailto:ksylor@gmail.com">Katie Sylor-Miller</a></span><span class="c1">, Paul Calvano, Sean Feng</span></p><h2 class="c8" id="h.7u730v6g52y6"><span class="c9">Minutes</span></h2><h3 class="c14" id="h.7spz6728umey"><span class="c12">Misc</span></h3><p class="c10"><span class="c1"></span></p><p class="c11"><span class="c1">CFCs</span></p><ul class="c3 lst-kix_vlmtjjvjpfzq-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: CfCs have been sent out, please have AC reps review</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Scott</b><b></b>: How does voting process work?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: Assuming AC reps don’t have objections, +1 on issue or comment</span></li><li class="c0 li-bullet-0"><span class="c1">… If AC has concerns around adopting work, please provide a more formal comment on objections</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Carine</b><b></b>: We also had 2 new CR snapshots out today (User Timing and Performance Timeline)</span></li><li class="c0 li-bullet-0"><span class="c1">… Call for exclusions should follow, AFAIK</span></li></ul><p class="c10"><span class="c1"></span></p><p class="c11"><span class="c1">Next Meeting</span></p><ul class="c3 lst-kix_7zwohfiapvq-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: Do we want to meet on the week of the 13th? &nbsp;Conflicts on regular 16th day? &nbsp;Or just meet in 2022?</span></li><li class="c0 li-bullet-0"><span><b>Nic</b><b></b>: </span><span>January 13th 2022 would be the next meeting</span></li></ul><p class="c10"><span class="c1"></span></p><h2 class="c8" id="h.uzwzpi948a5g"><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://docs.google.com/document/u/1/d/1LbXafcZMHagLReSkEkjhQdOIzeA9RS8_2e0_g5QLgY0/edit?resourcekey%3D0-n9hTSQXGoyboIssA4wSGGw&amp;sa=D&amp;source=editors&amp;ust=1643980103065479&amp;usg=AOvVaw2VAqz7QUkEZPLgo5e4w_5d">Cross-frame performance timeline</a></span><span>&nbsp;</span><span>proposal (Ian Clelland)</span></h2><ul class="c3 lst-kix_mbbrvbfrf9zp-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: PerformanceTimeline API has a glaring problem, we spoke with a few analytics providers</span></li><li class="c0 li-bullet-0"><span class="c1">… Web pages are made with frames, we don’t allow crossing that boundary for cross-origins</span></li><li class="c0 li-bullet-0"><span class="c1">… Huge blindspot for this API</span></li><li class="c0 li-bullet-0"><span class="c1">… Don’t know if IFRAME is causing a stall in loading, failing to load, bad UX</span></li><li class="c0 li-bullet-0"><span class="c1">… Can work around this with custom script, but you need to control the frames on all origins</span></li><li class="c0 li-bullet-0"><span class="c1">… Possible way to improve this if the child frame agrees</span></li><li class="c0 li-bullet-0"><span class="c1">… Report events up to main frame if so</span></li><li class="c0 li-bullet-0"><span class="c1">… Opt-in is critical</span></li><li class="c0 li-bullet-0"><span class="c1">… Can we do this in a standard way that doesn’t require custom script on child frame</span></li><li class="c0 li-bullet-0"><span>… Doc shared: </span><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://docs.google.com/document/u/1/d/1LbXafcZMHagLReSkEkjhQdOIzeA9RS8_2e0_g5QLgY0/edit?resourcekey%3D0-n9hTSQXGoyboIssA4wSGGw&amp;sa=D&amp;source=editors&amp;ust=1643980103067468&amp;usg=AOvVaw305iN5ZWuxRsz1b4sXqD5p">https://docs.google.com/document/u/1/d/1LbXafcZMHagLReSkEkjhQdOIzeA9RS8_2e0_g5QLgY0/edit?resourcekey=0-n9hTSQXGoyboIssA4wSGGw</a></span></li><li class="c0 li-bullet-0"><span class="c1">… Proposes a solution to this</span></li><li class="c0 li-bullet-0"><span class="c1">… Embedded site has to opt in, sufficient to allow sharing</span></li><li class="c0 li-bullet-0"><span class="c1">… Embedding site has to request entries from child frames so we don’t break existing code</span></li><li class="c0 li-bullet-0"><span class="c1">… Can distinguish subframes from the main page</span></li><li class="c0 li-bullet-0"><span class="c1">… Would like to allow a header to do this. &nbsp;Don’t want to extend Timing-Allow-Origin to frames</span></li><li class="c0 li-bullet-0"><span class="c1">… Could have Performance-Allow-Origin to opt-in origins</span></li><li class="c0 li-bullet-0"><span class="c1">… To avoid minting a new header, use Document-Policy, “share-performance-timeline-with=*”</span></li><li class="c0 li-bullet-0"><span class="c1">… Opt-in specific origins or all with wildcard</span></li><li class="c0 li-bullet-0"><span class="c1">… Extend PerformanceObserver methods to have a “includeFrames” boolean</span></li><li class="c0 li-bullet-0"><span class="c1">… You’d start getting PerformanceTimeline events from all child frames that have opted in</span></li><li class="c0 li-bullet-0"><span class="c1">… In response, when you start getting these events, get a reference to the frame</span></li><li class="c0 li-bullet-0"><span class="c1">… Could include index for frame from top, but two are equivalent</span></li><li class="c0 li-bullet-0"><span class="c1">… Could postMessage to it</span></li><li class="c0 li-bullet-0"><span class="c1">… “source” object in PerformanceEntry IDL</span></li><li class="c0 li-bullet-0"><span class="c1">… End of presentation</span></li><li class="c0 li-bullet-0"><span class="c1">Discussion:</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: Window reference would be a weak reference that wouldn’t hold it alive</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Agreed. &nbsp;Shouldn’t keep it alive.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: To not maintain frames forever</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: Weak reference or only created when object is requested?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: what would be the practical effect?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: Similar to the LCP entries, where the attribute is null when the element is not longer there.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: What happens if you query it, but then keep that reference?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: Not sure. Windows are heavy so preventing them from GC would be problematic</span></li><li class="c0 li-bullet-0"><span class="c1">… Comment - something to consider about the terms you use in the header. They lack the semantics of indicating it’s an iframe container relationship</span></li><li class="c0 li-bullet-0"><span class="c1">… You say you’re share with an origin, but not saying that it’s the embedder</span></li><li class="c0 li-bullet-0"><span class="c1">… Another thought - can we indicate this in the HTML itself (e.g. for the CDN case)</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Might be possible. Document Policy doesn’t currently support it, but maybe we should</span></li><li class="c0 li-bullet-0"><span class="c1">… Need to make sure that it’s not a privacy issue that would result in script access being able to share the iframes timing. At the same time, a script in the frame can already coordinate exfiltration of the data, so not a big risk </span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: So an embedded script that can modify the meta tag can also communicate the same with the parent?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Yeah</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: Client Hints is looking into a similar option, since Document Policy doesn’t support it. &nbsp;Has to be markup over the wire</span></li><li class="c0 li-bullet-0"><span class="c1">… Could be middle ground vs enabling for dynamic scripts</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Initial privacy issue around this, where sub-frame and top-frame see with timeOrigin</span></li><li class="c0 li-bullet-0"><span class="c1">… Entries may need to be transformed along the way w/ parent</span></li><li class="c0 li-bullet-0"><span class="c1">… timeOrigin and maybe coordinates (LayoutShift)</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: timeOrigin you need to sync, coordinates maybe not</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Thinking about LayoutShift entries, reporting from child frame, reports on where it is in the frame</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: timeOrigin you wouldn’t be able to figure it out</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Nic</b><b></b>: From our request for this, this would be helpful for RUM in many ways. Excited for this</span></li><li class="c0 li-bullet-0"><span class="c1">… Time origin would be critical, because we’d want to coordinate resources on the performance timeline with the top-level origin</span></li><li class="c0 li-bullet-0"><span class="c1">… Haven’t considered coordinates</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Scott</b><b></b>: What’s the behavior if we don’t have permissions. Can we have an entry that tells us there’s a frame which doesn’t expose the entries</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: You’d be able to know by not having an entry</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Scott</b><b></b>: How can we know that 3P frames haven’t opted in?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: I think it’s technically possible, but may be worthwhile to add that as a more ergonomic option</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Katie</b><b></b>: A lot of times with 3P code, it’s a marketing person that adds a tag without understanding performance, etc. So ergonomically it’d be difficult as we’d run into problems with 3P not willing to expose their timings, to avoid embedders that know their perf characteristics</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: We could have a permission policy that requires an opt in, but that may not be an easy sell</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Alex</b><b></b>: This definitely reveals new information that has a use, but has anyone looked into ways this could be abused/misused and expose information we didn’t want to reveal</span></li><li class="c0 li-bullet-0"><span class="c1">… e.g. ad vendor that would expose their information, but can reveal info about the user</span></li><li class="c0 li-bullet-0"><span class="c1">… tempting to use the * config, which would be revealing info to any origin</span></li><li class="c0 li-bullet-0"><span class="c1">… have we considered mis-use?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Anyone adding the header should think about it. Should we enumerate concerns in the spec?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Alex</b><b></b>: We might have a reason to say: “*” is not allowed, so you can expose this to specific origins</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: The issue with not allowing “*” it means that it becomes useless for things like marketing pixels, as it’s unlikely they’d add specific origins. But they may not opt-in at all.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: The “*” is there as an equivalent to TAO</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Scott</b><b></b>: We always use “*” for TAO, mostly with static assets, because of caching.</span></li><li class="c0 li-bullet-0"><span class="c1">… Because of the CDN, if we don’t support *, we need to make sure the responses can be cached</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: We’d need some negotiation mechanism where JS has to make this decision</span></li><li class="c0 li-bullet-0"><span><b>Scott</b><b></b>: </span><span class="c1">If a major use case is for embedded iframes by a third party (e.g. advertiser), we should makes sure the mechanism where the embedder can enforce instrumentation on the child frames is clear, either explicitly (e.g. tell the browser “don’t load this if it doesn’t have instrumentation”) or by data gathering (e.g. a clear signal that the child iframe has not added timing headers, so the parent could emit that in a metric and later decide to take some action (de-prioritize putting it onto page, send an alarm/notification, etc.)).</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: I think that not having * would likely significantly reduce the applicability of this.</span></li></ul><p class="c10"><span class="c1"></span></p><p class="c11"><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://docs.google.com/document/u/1/d/1LbXafcZMHagLReSkEkjhQdOIzeA9RS8_2e0_g5QLgY0/edit?resourcekey%3D0-n9hTSQXGoyboIssA4wSGGw&amp;sa=D&amp;source=editors&amp;ust=1643980103075664&amp;usg=AOvVaw2emoelM5NuOAzjbdHdNFSr">Cross-frame performance timeline</a></span></p><ul class="c3 lst-kix_3eqyywuwff8h-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Problem</b><b></b>: PerformanceTimeline API (for good reasons) does not observe events which occur in other frames, and *cannot* observe events from cross-origin frames. This is a real problem for anyone trying to perform full-page performance analysis.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Proposed solution</b><b></b>: Allow embedded pages to opt in with an HTTP header to having their performance events observed by their embedders. Performance Timeline APIs are modified to allow embedders to request such events.</span></li><li class="c0 li-bullet-0"><span class="c1">Discussion points:</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-1 start"><li class="c2 li-bullet-0"><span class="c1">Would a window reference to a child frame be a weak or strong reference?</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-2 start"><li class="c5 li-bullet-0"><span class="c1">Weak references would allow GC of destroyed windows.</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-1"><li class="c2 li-bullet-0"><span class="c1">Is an HTTP header necessary, or can pages opt-in with markup only?</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-2 start"><li class="c5 li-bullet-0"><span class="c1">Need to investigate; markup may be possible, but don't want to create security issues.</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-1"><li class="c2 li-bullet-0"><span class="c1">Is it possible to feature-detect this?</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-2 start"><li class="c5 li-bullet-0"><span class="c1">Yes, technically (look for navigation events from child frames loading), but maybe something more explicit is better.</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-1"><li class="c2 li-bullet-0"><span class="c1">Do performance entries need to be transformed from child to parent frame, to avoid additional cross-origin leaks?</span></li><li class="c2 li-bullet-0"><span class="c1">Can we enumerate the potential privacy issues so that people opting in fully understand any risks?</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-2 start"><li class="c5 li-bullet-0"><span class="c1">We should do our best here, recognizing that we might not be able to be exhaustive.</span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-1"><li class="c2 li-bullet-0"><span class="c1">Should we disallow '*' as an option, and require embedded frames to specify which origins can read from them? </span></li></ul><ul class="c3 lst-kix_3eqyywuwff8h-2 start"><li class="c5 li-bullet-0"><span class="c1">This would probably break major use cases; '*' is a parallel with Timing-Allow-Origin, where it is widely used.</span></li></ul><h2 class="c8" id="h.6o22ubmajhp6"><span>Beaconing Improvement Proposal (Ian Clelland)</span></h2><ul class="c3 lst-kix_5y7netdi88q1-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Early proposal for a new page unload beacon</span></li><li class="c0 li-bullet-0"><span class="c1">… We have beaconing already from navigator.sendBeacon, unload handlers with sync/async XHR</span></li><li class="c0 li-bullet-0"><span class="c1">… All methods are rather unreliable</span></li><li class="c0 li-bullet-0"><span class="c1">… Nic’s gone through reliability of things and figuring out why</span></li><li class="c0 li-bullet-0"><span class="c1">… Unreliable due to crashes, shutdown, unreliable networks</span></li><li class="c0 li-bullet-0"><span class="c1">… Unload is ignored by some browsers, behavior blocked by some</span></li><li class="c0 li-bullet-0"><span class="c1">… Unload makes bfcache ineligible</span></li><li class="c0 li-bullet-0"><span class="c1">… Call for reliable way to send data out at the end of the session</span></li><li class="c0 li-bullet-0"><span class="c1">… Propose a new way to do this on Reporting API</span></li><li class="c0 li-bullet-0"><span class="c1">… Automatically sent out of band from browser</span></li><li class="c0 li-bullet-0"><span class="c1">… Register data, stored by browser up to point where it should go out</span></li><li class="c0 li-bullet-0"><span class="c1">… “End of session” unclear as page-hide or unload or arbitrary marker for when page is done, so at point page is unloaded from browser, that’s when to send beacons</span></li><li class="c0 li-bullet-0"><span class="c1">… Register once and forget</span></li><li class="c0 li-bullet-0"><span class="c1">… Ability to update data in beacon, cancel data if needed, maybe send immediately</span></li><li class="c0 li-bullet-0"><span class="c1">… Using Reporting API as foundation for this means you have a Reporting-Endpoints header</span></li><li class="c0 li-bullet-0"><span class="c1">… Different ways of registering for beacons</span></li><li class="c0 li-bullet-0"><span class="c1">… Marking-based solution</span></li><li class="c0 li-bullet-0"><span style="overflow: hidden;<b> display</b><b></b>: inline-block;<b> margin</b><b></b>: 0.00px 0.00px;<b> border</b><b></b>: 0.00px solid #000000;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);<b> width</b><b></b>: 624.00px;<b> height</b><b></b>: 342.67px;"><img alt="" src="./WebPerfWG call - December 2nd 2021_files/pasted image 0.png" style="width: 624.00px;<b> height</b><b></b>: 342.67px; margin-left: 0.00px; margin-top: 0.00px;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 li-bullet-0"><span class="c1">… Endpoint and payload are specified, possibly timeline types</span></li><li class="c0 li-bullet-0"><span class="c1">… Could be useful to compress because it could be a lot of data</span></li><li class="c0 li-bullet-0"><span class="c1">… Having this link in the HEAD would be enough to register for beacon</span></li><li class="c0 li-bullet-0"><span class="c1">… Data would be stored and sent out when page is tearing down</span></li><li class="c0 li-bullet-0"><span class="c1">… Use DOM APIs to manipulate from script</span></li><li class="c0 li-bullet-0"><span class="c1">… Grab out of DOM to change the payload or remove to cancel it</span></li><li class="c0 li-bullet-0"><span class="c1">… Second proposal is JS-based solution</span></li><li class="c0 li-bullet-0"><span style="overflow: hidden;<b> display</b><b></b>: inline-block;<b> margin</b><b></b>: 0.00px 0.00px;<b> border</b><b></b>: 0.00px solid #000000;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);<b> width</b><b></b>: 624.00px;<b> height</b><b></b>: 313.33px;"><img alt="" src="./WebPerfWG call - December 2nd 2021_files/pasted image 0(1).png" style="width: 624.00px;<b> height</b><b></b>: 313.33px; margin-left: 0.00px; margin-top: 0.00px;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 li-bullet-0"><span class="c1">… Give it a way to queue up a beacon, register a report with payload</span></li><li class="c0 li-bullet-0"><span class="c1">… Advantages to do this in script, not everyone has access or willing to change markup</span></li><li class="c0 li-bullet-0"><span class="c1">… Could register ReportingObserver</span></li><li class="c0 li-bullet-0"><span class="c1">… This example has a 5 minute timeout, that ReportingObserver would be able to see</span></li><li class="c0 li-bullet-0"><span class="c1">… Can update</span></li><li class="c0 li-bullet-0"><span style="overflow: hidden;<b> display</b><b></b>: inline-block;<b> margin</b><b></b>: 0.00px 0.00px;<b> border</b><b></b>: 0.00px solid #000000;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);<b> width</b><b></b>: 624.00px;<b> height</b><b></b>: 312.00px;"><img alt="" src="./WebPerfWG call - December 2nd 2021_files/pasted image 0(2).png" style="width: 624.00px;<b> height</b><b></b>: 312.00px; margin-left: 0.00px; margin-top: 0.00px;<b> transform</b><b></b>: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></li><li class="c0 li-bullet-0"><span class="c1">… Last of my slides</span></li><li class="c0 li-bullet-0"><span class="c1">… Still trying to figure out what use-cases are</span></li><li class="c0 li-bullet-0"><span class="c1">… Wondering which shape would be more useful</span></li><li class="c0 li-bullet-0"><span class="c1">... Would love feedback on that</span></li><li class="c0 li-bullet-0"><span class="c1">[end of presentation]</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: At WIX, we try to send sendBeacon during “unload” (use pagehide etc instead)</span></li><li class="c0 li-bullet-0"><span class="c1">… Seems some of the things you mention, i.e. out-of-band, are desirable for sendBeacon in general and not just this</span></li><li class="c0 li-bullet-0"><span class="c1">… Why not have sendBeacon be out-of-band</span></li><li class="c0 li-bullet-0"><span class="c1">… Another comment is that compression of upload, sendBeacon is restricted to smaller uploads</span></li><li class="c0 li-bullet-0"><span class="c1">… Being able to compress stuff being sent is a general feature, not just for this proposal, why not control compression on upload in general?</span></li><li class="c0 li-bullet-0"><span class="c1">… Can you guarantee on every platform, you’re able to hook into end-of-session, will you be able to hook into that?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: We should absolutely do what we can to make sendBeacon more reliable, no reason it shouldn’t be out-of-band. &nbsp;Maybe because it’s defined in terms of Fetch? &nbsp;If there are things we can do to make sendBeacon more reliable, we should</span></li><li class="c0 li-bullet-0"><span class="c1">… Has fundamental limits that you need script running at the time the beacon goes out, because unload handlers don’t run</span></li><li class="c0 li-bullet-0"><span class="c1">… Advantage of this is it’s an explicitly queued and delayed beacon</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: One more point is you can update it over time, instead of sending 20 beacons, you could just send one at the end</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: Currently report CLS multiple times because we can’t be sure it’s the end of the session</span></li><li class="c0 li-bullet-0"><span class="c1">… Just that a lot of the things you spec here are desirable in other scenarios as well</span></li><li class="c0 li-bullet-0"><span class="c1">… Can you guarantee that this will be sent?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Never an absolute guarantee</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Dan</b><b></b>: If guarantee is weak, I might feel safer sending multiple beacons during lifetime of page instead of hoping it’s sent at the end</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Hopefully that this proposal is just as reliable as that</span></li><li class="c0 li-bullet-0"><span><b>Ian</b><b></b>: Nic filed an issue with sendBeacon to allow compression (</span><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://github.com/w3c/beacon/issues/72&amp;sa=D&amp;source=editors&amp;ust=1643980103084988&amp;usg=AOvVaw1-mSfZKkP-mxNYU1Oaj9OM">https://github.com/w3c/beacon/issues/72</a></span><span class="c1">)</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: Talked to Katie earlier today, mentioned desire to process information from performance APIs in a worker or non-main-thread context, and as you were presenting that JS API has an advantage on that front, is we could expose in workers, and just postMessage() whatever we want from APIs to worker.</span></li><li class="c0 li-bullet-0"><span class="c1">… Register report there instead of marshalling to DOM API</span></li><li class="c0 li-bullet-0"><span class="c1">… Significant advantage</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Katie</b><b></b>: Add that we’ve run into a problem over years, that JavaScript measuring the performance of JavaScript, that when we change it, it can change the baseline</span></li><li class="c0 li-bullet-0"><span class="c1">… Hard to know if when something’s changed, whether it’s the feature or the measurements causing the change</span></li><li class="c0 li-bullet-0"><span class="c1">… Thinking if we can move things off the main thread</span></li><li class="c0 li-bullet-0"><span class="c1">… Similar to Dan that working to get rid of all unload beacons, and whatever happens is it’ll be used by things that are not just performance entries</span></li><li class="c0 li-bullet-0"><span class="c1">… Have a bunch of places where we send non-perf data in XHR on unload, because it’s always been the most reliable way to get this data</span></li><li class="c0 li-bullet-0"><span class="c1">… Anything that’s more reliable for any time of beacon may end up solving that problem for unload handlers, not just perf data</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: Would that be an argument for not hanging this off performance API, but maybe navigator.queueBeacon.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Katie</b><b></b>: Yes potentially, about reliability of sendBeacon, it’s been difficult for me to prove there’s value for removing unload handlers, and you can’t experimentally prove that did anything because you have to remove all of them</span></li><li class="c0 li-bullet-0"><span class="c1">… Could go to engineers and say there’s this new browser API that’s more reliable for you</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: For Nic and Yoav then, if we did that, is it under this working group still</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: From my perspective it wouldn’t affect what we deliver</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Nic</b><b></b>: Would really help all the RUM stuff we’re doing. In our case, we’d like the JS API.</span></li><li class="c0 li-bullet-0"><span class="c1">… thinking about the DOM api, one challenge with allowing the DOM to say “include performance entries for restiming, navtiming, etc” is that it would then be up to the OOB process to get that data from the possibly-unloading render process. &nbsp;Might not work.</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Ian</b><b></b>: That would complicate things. Capturing the timeline data OOB would require marshaling constantly</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Nic</b><b></b>: Otherwise, queueing up the beacon would require everything to be all set</span></li></ul><p class="c10 c13"><span class="c1"></span></p><p class="c10 c13"><span class="c1"></span></p><p class="c11"><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://docs.google.com/presentation/d/1ueNTpVZuWGO8RIVYYN8AZq6UUGlM5iF_ENUsJ3W7cZc/edit%23slide%3Did.p&amp;sa=D&amp;source=editors&amp;ust=1643980103088324&amp;usg=AOvVaw1OrokSc3_WD7pQ4ApCEsmn">Beaconing improvement proposal</a></span></p><ul class="c3 lst-kix_xvfd47hgrn31-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Problem</b><b></b>: Existing end-of-session beaconing techniques are unreliable, for a number of reasons (Crashes, unreliable networks, or browsers just ignore them) and unload handlers make pages uneligible for bfcache.</span></li><li class="c0 li-bullet-0"><span class="c1">Would like to come up with a reliable end-of-session beacon, caching the data in the browser and using the Reporting API to send it when the page is unloaded.</span></li><li class="c0 li-bullet-0"><span class="c1">Two solutions proposed:</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1 start"><li class="c2 li-bullet-0"><span class="c1">&lt;link rel="beacon"&gt; in DOM</span></li><li class="c2 li-bullet-0"><span class="c1">Extend window.performance with JS methods to queue, update and send beacons.</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-0"><li class="c0 li-bullet-0"><span class="c1">Discussion points:</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1 start"><li class="c2 li-bullet-0"><span class="c1">Could we improve sendBeacon instead?</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-2 start"><li class="c5 li-bullet-0"><span class="c1">Yes, we should improve sendBeacon, but it's fundamentally a fire-now API. This is a queue-for-later API.</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1"><li class="c2 li-bullet-0"><span class="c1">Can we make real guarantees with this API?</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-2 start"><li class="c5 li-bullet-0"><span class="c1">Probably not, for technical and privacy reasons.</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1"><li class="c2 li-bullet-0"><span class="c1">Can this work from workers?</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-2 start"><li class="c5 li-bullet-0"><span class="c1">We could; this would be support for a JS API over a DOM one</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1"><li class="c2 li-bullet-0"><span class="c1">Could this be navigator.queueBeacon instead?</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-2 start"><li class="c5 li-bullet-0"><span class="c1">Yes.</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-1"><li class="c2 li-bullet-0"><span class="c1">Could it automatically include unread performance timeline entries?</span></li></ul><ul class="c3 lst-kix_xvfd47hgrn31-2 start"><li class="c5 li-bullet-0"><span class="c1">Maybe; that might interfere with the goal of having data queued in the browser process.</span></li></ul><h2 class="c8" id="h.j91teflxd4bz"><span class="c9">ElementTiming Discussion</span></h2><ul class="c3 lst-kix_mrt27fy3dzuv-0 start"><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: At TPAC, we talked about ElementTiming as part of discussion on adopting incubations</span></li><li class="c0 li-bullet-0"><span class="c1">… Anne discussed previous concerns from Apple he wanted information on, but we didn’t have on the call</span></li><li class="c0 li-bullet-0"><span class="c1">… Was wondering Alex if we have more information about previous concerns around ElementTiming</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Alex</b><b></b>: Not on hand, but I could look them up</span></li><li class="c0 li-bullet-0"><span class="c1">… Can you send more information on exactly what you’re looking for?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Benjamin</b><b></b>: If there are more issues, if they’re confined to just text elements or just image elements, could the objection be partitioned, if there is one</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: For ElementTiming, which exposes timing information on when certain things are painted to screen, the element could be an image or text element. &nbsp;Could the feedback be split based on those characteristics?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Benjamin</b><b></b>: If the objections are around text, i.e. we can’t find text bounding box? &nbsp;Or if you don’t have objections around image size?</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: I can link to minutes from TPAC discussion, where we talked previously</span></li></ul><ul class="c3 lst-kix_mrt27fy3dzuv-1 start"><li class="c2 li-bullet-0"><span class="c7"><a class="c4" href="https://www.google.com/url?q=https://docs.google.com/document/d/1GQpM8IvL4feXQ0oQdCQIPKhZZkMLNTYJQhBUntMxPkI/edit%23heading%3Dh.glex7ka68pwu&amp;sa=D&amp;source=editors&amp;ust=1643980103092282&amp;usg=AOvVaw2qo1G_gkMKqz3fOK59mY9M">https://docs.google.com/document/d/1GQpM8IvL4feXQ0oQdCQIPKhZZkMLNTYJQhBUntMxPkI/edit#heading=h.glex7ka68pwu</a></span></li></ul><ul class="c3 lst-kix_mrt27fy3dzuv-0"><li class="c0 li-bullet-0"><span class="c1">… Maybe take an AI to get back to us when we can discuss further</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Benjamin</b><b></b>: Would this be useful to be resolved before CfC deadline</span></li><li class="c0 li-bullet-0"><span class="c1"><b>Yoav</b><b></b>: CfC is not about ElementTiming, it’s just for LCP and EventTiming. &nbsp;ElementTiming wasn’t included</span></li></ul><h2 class="c8" id="h.r8wzfl1tz0gr"><span class="c9">Admin</span></h2><ul class="c3 lst-kix_oaqpqlubz5fv-0 start"><li class="c0 li-bullet-0"><span class="c1">Skipping the next call and the 30th, we’ll meet again on January 16th</span></li></ul></div></div><script type="text/javascript" nonce="">(function(){/*

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/
var aa="function"==typeof Object.create?Object.create:function(a){function b(){}b.prototype=a;return new b},ba="function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){if(a==Array.prototype||a==Object.prototype)return a;a[b]=c.value;return a};
function ca(a){a=["object"==typeof globalThis&&globalThis,a,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");}var da=ca(this);function ea(a,b){if(b)a:{var c=da;a=a.split(".");for(var d=0;d<a.length-1;d++){var e=a[d];if(!(e in c))break a;c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&ba(c,a,{configurable:!0,writable:!0,value:b})}}var k;
if("function"==typeof Object.setPrototypeOf)k=Object.setPrototypeOf;else{var l;a:{var fa={a:!0},ha={};try{ha.__proto__=fa;l=ha.a;break a}catch(a){}l=!1}k=l?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null}var ia=k;
function m(a,b){a.prototype=aa(b.prototype);a.prototype.constructor=a;if(ia)ia(a,b);else for(var c in b)if("prototype"!=c)if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);d&&Object.defineProperty(a,c,d)}else a[c]=b[c];a.m=b.prototype}ea("Object.is",function(a){return a?a:function(b,c){return b===c?0!==b||1/b===1/c:b!==b&&c!==c}});var n=this||self;function p(){}function q(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}
function ja(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice();d.push.apply(d,arguments);return a.apply(this,d)}}function ka(a,b){function c(){}c.prototype=b.prototype;a.m=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.D=function(d,e,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[e].apply(d,g)}}function r(a){return a};function t(a){t[" "](a);return a}t[" "]=p;function la(a,b,c){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:a[b]=c(b)};function ma(a){return la(a.prototype,"$$generatedClassName",function(){return"Class$obf_"+{valueOf:function(){return++na}}})}var na=1E3;function v(){}v.prototype.s=function(){return this.j||(Object.defineProperties(this,{j:{value:oa=oa+1|0,enumerable:!1}}),this.j)};v.prototype.toString=function(){var a=w(x(pa(this.constructor)))+"@";var b=(this.s()>>>0).toString(16);return a+w(b)};function y(){}m(y,v);y.prototype.h=function(a){this.g=a;if(a instanceof Object)try{a.v=this}catch(b){}};function qa(a){a.g instanceof Error&&(Error.captureStackTrace?Error.captureStackTrace(a.g):a.g.stack=Error().stack)}y.prototype.toString=function(){var a=x(pa(this.constructor)),b=this.l;return null==b?a:w(a)+": "+w(b)};
function ra(a){if(null!=a){var b=a.v;if(null!=b)return b}a instanceof TypeError?(b=new sa,b.l=w(a),qa(b),b.i=a,b.h(new TypeError(b)),a=b):(b=new z,b.l=w(a),qa(b),b.i=a,b.h(Error(b)),a=b);return a};function A(){}m(A,y);function B(){}m(B,A);function z(){}m(z,B);z.prototype.h=function(a){B.prototype.h.call(this,"__noinit__"===this.i?a:this.i)};function sa(){}m(sa,z);var oa=0;function ta(a,b){return"string"==typeof a?a.charCodeAt(b):a.g(b)};function C(){}var ua,va;m(C,v);function wa(){wa=function(){};va=new D;ua=new E};function D(){}m(D,C);D.prototype.toString=function(){return""};function E(){}m(E,C);E.prototype.toString=function(){return"unknown"};function w(a){return null==a?"null":a.toString()}function xa(a){return 65536<=a?w(String.fromCharCode((55296+((a-65536|0)>>10&1023)|0)&65535))+w(String.fromCharCode((56320+((a-65536|0)&1023)|0)&65535)):String.fromCharCode(a&65535)}function ya(a,b){var c=b,d=a.length,e;b=ta(a,(e=c,c=c+1|0,e));var f;if(e=55296<=b&&56319>=b&&c<d)a=f=ta(a,c),e=56320<=a&&57343>=a;var g;e?g=65536+((b&1023)<<10)+(f&1023)|0:g=b;return g};function F(a,b){this.g=a;this.h=b}m(F,v);function x(a){if(0!=a.h){var b="L"+w(ma(a.g))+";";a=a.h;for(var c="",d=0;d<a;d=d+1|0)c=w(c)+"[";return w(c)+w(b)}return ma(a.g)}F.prototype.toString=function(){return"class "+w(x(this))};function pa(a){return la(a.prototype,"$$class/0",function(){return new F(a,0)})};function za(a){var b=a;try{var c;if(c="www.google.com"===Aa(a)){var d=Ba(a)[5];c="/url"===G(d,!0)}if(c){var e=Ca(a,"q");b=e?e:Ca(a,"url")}}catch(f){if(f=ra(f),!(f instanceof A))throw f.g;}return null!=b?b:""};function G(a,b){return null==a?a:b?decodeURI(a):decodeURIComponent(a)};var Da;function Ba(a){H();a=Da.exec(a);for(var b=[],c=0;7>=c;c=c+1|0)a.length<=c||null==a[c]?b.push(null):b.push(a[c]);return b}function Aa(a){a=Ba(a);return G(a[3],!0)}
function Ca(a,b){H();var c=a.indexOf(xa(35));c=0>c?a.length:c;a:{var d=0;for(var e=b.length;0<(d=a.indexOf(b,d))&&d<c;){var f=ya(a,d-1|0);if(38==f||63==f){if((d+e|0)>=a.length)break a;f=ya(a,d+e|0);if(61==f||38==f||35==f)break a}d=d+(e+1)|0}d=-1}if(0>d)return null;e=a.indexOf(xa(38),d);if(0>e||e>c)e=c;d=d+(b.length+1)|0;b=Math.min(a.length,d);a=a.substr(b,Math.min(a.length,Math.max(d,e))-b|0);c=" ";for(b=0;0<=(b=c.indexOf("\\",b));)36==c.charCodeAt(b+1|0)?(d=w(c.substr(0,b|0))+"$",e=b=b+1|0,c=d+w(c.substr(e))):
(d=w(c.substr(0,b|0)),e=b=b+1|0,c=d+w(c.substr(e)));a=a.replace(RegExp("\\+","g"),c);return G(a,!1)}function H(){H=function(){};Da=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\S\\s]*))?$")};var Ea=/&/g,Fa=/</g,Ga=/>/g,Ha=/"/g,Ia=/'/g,Ja=/\x00/g,Ka=/[\x00&<>"']/;function La(){var a=n.navigator;return a&&(a=a.userAgent)?a:""}function I(a){return-1!=La().indexOf(a)};var Ma=Array.prototype.indexOf?function(a,b){return Array.prototype.indexOf.call(a,b,void 0)}:function(a,b){if("string"===typeof a)return"string"!==typeof b||1!=b.length?-1:a.indexOf(b,0);for(var c=0;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1};var Na=I("Trident")||I("MSIE"),Oa=I("Edge")||Na,Pa=I("Gecko")&&!(-1!=La().toLowerCase().indexOf("webkit")&&!I("Edge"))&&!(I("Trident")||I("MSIE"))&&!I("Edge"),Qa=I("Macintosh");function Ra(a){a&&"function"==typeof a.u&&a.u()};function J(){this.h=this.h;this.g=this.g}J.prototype.h=!1;J.prototype.u=function(){this.h||(this.h=!0,this.j())};J.prototype.j=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function Sa(a,b,c){for(var d in a)b.call(c,a[d],d,a)};var K;function L(a,b){this.i=a===Ta&&b||"";this.j=Ua}L.prototype.h=!0;L.prototype.g=function(){return this.i};var Ua={},Ta={};function M(a,b){this.i=b===N?a:""}M.prototype.h=!0;M.prototype.g=function(){return this.i.toString()};M.prototype.toString=function(){return this.i.toString()};function O(a){return a instanceof M&&a.constructor===M?a.i:"type_error:SafeUrl"}
var Va=RegExp('^(?:audio/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font/\\w+|image/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|video/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\\w+=(?:\\w+|"[\\w;,= ]+"))*$',"i"),Wa=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Xa=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Ya(a){if(a instanceof M)return a;a="object"==typeof a&&a.h?a.g():String(a);Xa.test(a)||(a="about:invalid#zClosurez");return new M(a,N)}
var N={},Za=new M("about:invalid#zClosurez",N);var $a={};function P(a,b,c){this.i=c===$a?a:"";this.h=!0}P.prototype.g=function(){return this.i.toString()};P.prototype.toString=function(){return this.i.toString()};function ab(a,b,c,d){a=a instanceof M?a:Ya(a);b=b||n;c=c instanceof L?c instanceof L&&c.constructor===L&&c.j===Ua?c.i:"type_error:Const":c||"";return void 0!==d?b.open(O(a),c,d):b.open(O(a),c)};function Q(a,b){this.type=a;this.target=b;this.i=!1}Q.prototype.g=function(){this.i=!0};var bb=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var a=!1,b=Object.defineProperty({},"passive",{get:function(){a=!0}});try{n.addEventListener("test",p,b),n.removeEventListener("test",p,b)}catch(c){}return a}();function R(a){Q.call(this,a?a.type:"");this.relatedTarget=this.target=null;this.button=this.screenY=this.screenX=this.clientY=this.clientX=0;this.key="";this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.state=null;this.pointerId=0;this.pointerType="";this.h=null;if(a){var b=this.type=a.type,c=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;this.target=a.target||a.srcElement;var d=a.relatedTarget;if(d){if(Pa){a:{try{t(d.nodeName);var e=!0;break a}catch(f){}e=!1}e||(d=null)}}else"mouseover"==
b?d=a.fromElement:"mouseout"==b&&(d=a.toElement);this.relatedTarget=d;c?(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0):(this.clientX=void 0!==a.clientX?a.clientX:a.pageX,this.clientY=void 0!==a.clientY?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0);this.button=a.button;this.key=a.key||"";this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=
a.metaKey;this.pointerId=a.pointerId||0;this.pointerType="string"===typeof a.pointerType?a.pointerType:cb[a.pointerType]||"";this.state=a.state;this.h=a;a.defaultPrevented&&R.m.g.call(this)}}ka(R,Q);var cb={2:"touch",3:"pen",4:"mouse"};R.prototype.g=function(){R.m.g.call(this);var a=this.h;a.preventDefault?a.preventDefault():a.returnValue=!1};var S="closure_listenable_"+(1E6*Math.random()|0);var db=0;function eb(a,b,c,d,e){this.listener=a;this.proxy=null;this.src=b;this.type=c;this.capture=!!d;this.h=e;this.key=++db;this.g=this.o=!1}function fb(a){a.g=!0;a.listener=null;a.proxy=null;a.src=null;a.h=null};function T(a){this.src=a;this.g={};this.h=0}T.prototype.add=function(a,b,c,d,e){var f=a.toString();a=this.g[f];a||(a=this.g[f]=[],this.h++);var g;a:{for(g=0;g<a.length;++g){var h=a[g];if(!h.g&&h.listener==b&&h.capture==!!d&&h.h==e)break a}g=-1}-1<g?(b=a[g],c||(b.o=!1)):(b=new eb(b,this.src,f,!!d,e),b.o=c,a.push(b));return b};var U="closure_lm_"+(1E6*Math.random()|0),V={},gb=0;function hb(a,b,c,d,e){if(d&&d.once)return ib(a,b,c,d,e);if(Array.isArray(b)){for(var f=0;f<b.length;f++)hb(a,b[f],c,d,e);return null}c=jb(c);return a&&a[S]?a.g(b,c,q(d)?!!d.capture:!!d,e):kb(a,b,c,!1,d,e)}
function kb(a,b,c,d,e,f){if(!b)throw Error("Invalid event type");var g=q(e)?!!e.capture:!!e,h=lb(a);h||(a[U]=h=new T(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=mb();c.proxy=d;d.src=a;d.listener=c;if(a.addEventListener)bb||(e=g),void 0===e&&(e=!1),a.addEventListener(b.toString(),d,e);else if(a.attachEvent)a.attachEvent(nb(b.toString()),d);else if(a.addListener&&a.removeListener)a.addListener(d);else throw Error("addEventListener and attachEvent are unavailable.");gb++;return c}
function mb(){function a(c){return b.call(a.src,a.listener,c)}var b=ob;return a}function ib(a,b,c,d,e){if(Array.isArray(b)){for(var f=0;f<b.length;f++)ib(a,b[f],c,d,e);return null}c=jb(c);return a&&a[S]?a.h(b,c,q(d)?!!d.capture:!!d,e):kb(a,b,c,!0,d,e)}
function pb(a){if("number"!==typeof a&&a&&!a.g){var b=a.src;if(b&&b[S])b.i(a);else{var c=a.type,d=a.proxy;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent?b.detachEvent(nb(c),d):b.addListener&&b.removeListener&&b.removeListener(d);gb--;if(c=lb(b)){d=a.type;if(d in c.g){var e=c.g[d],f=Ma(e,a),g;(g=0<=f)&&Array.prototype.splice.call(e,f,1);g&&(fb(a),0==c.g[d].length&&(delete c.g[d],c.h--))}0==c.h&&(c.src=null,b[U]=null)}else fb(a)}}}
function nb(a){return a in V?V[a]:V[a]="on"+a}function ob(a,b){if(a.g)a=!0;else{b=new R(b,this);var c=a.listener,d=a.h||a.src;a.o&&pb(a);a=c.call(d,b)}return a}function lb(a){a=a[U];return a instanceof T?a:null}var qb="__closure_events_fn_"+(1E9*Math.random()>>>0);function jb(a){if("function"===typeof a)return a;a[qb]||(a[qb]=function(b){return a.handleEvent(b)});return a[qb]};function W(a){J.call(this);this.l=a;this.i={}}ka(W,J);var rb=[];function sb(a){Sa(a.i,function(b,c){this.i.hasOwnProperty(c)&&pb(b)},a);a.i={}}W.prototype.j=function(){W.m.j.call(this);sb(this)};W.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function tb(a,b,c,d){b=void 0===b?!1:b;c=void 0===c?!1:c;d=void 0===d?"editors":d;J.call(this);this.i=a||document.body;this.s=!!b;this.A=!!c;this.B=d;this.l=new W(this);a=ja(Ra,this.l);this.h?a():(this.g||(this.g=[]),this.g.push(a));a=this.l;b=this.i;c=this.C;d="click";Array.isArray(d)||(d&&(rb[0]=d.toString()),d=rb);for(var e=0;e<d.length;e++){var f=hb(b,d[e],c||a.handleEvent,!1,a.l||a);if(!f)break;a.i[f.key]=f}}m(tb,J);
tb.prototype.C=function(a){if(!(0!=a.h.button||Qa&&a.ctrlKey||a.i))for(var b=a.target;b&&b!=this.i;){if(b.tagName&&"a"==b.tagName.toLowerCase()){var c=b.getAttribute("href")||b.getAttributeNS("http://www.w3.org/1999/xlink","href"),d=za(c);if(c!=d){a:{b=void 0;try{b=Aa(d)}catch(u){u=ra(u);if(u instanceof A){b=!1;break a}throw u.g;}var e;if(e=null!=b){e=(wa(),va);var f=ua;b=Object.is(e,f)||null==e&&null==f?b.toLocaleLowerCase():b.toLowerCase();e=".google.com"===b.substr(b.length-11|0,11)}b=e}if(!b)if(this.A){c=
za(d);if(Object.is(c,d)||null==c&&null==d)d="//www.google.com/url?q="+w(encodeURIComponent(d)),d=w(d)+"&sa=D";d+="&source="+this.B}else d=this.s?c:d;f=d;b=void 0;c={target:"_blank",noreferrer:!0};d=window;if(f instanceof M)e=f;else{e="undefined"!=typeof f.href?f.href:String(f);if(!(e instanceof M))if(e="object"==typeof e&&e.h?e.g():String(e),Xa.test(e))e=new M(e,N);else{e=String(e);e=e.replace(/(%0A|%0D)/g,"");var g=e.match(Wa);e=g&&Va.test(g[1])?new M(e,N):null}e=e||Za}var h=void 0!==self.crossOriginIsolated;
g="strict-origin-when-cross-origin";window.Request&&(g=(new Request("/")).referrerPolicy);var vb="unsafe-url"===g;g=c.noreferrer;if(h&&g){if(vb)throw Error("Cannot use the noreferrer option on a page that sets a referrer-policy of `unsafe-url` in modern browsers!");g=!1}f=c.target||f.target;h=[];for(b in c)switch(b){case "width":case "height":case "top":case "left":h.push(b+"="+c[b]);break;case "target":case "noopener":case "noreferrer":break;default:h.push(b+"="+(c[b]?1:0))}b=h.join(",");if((I("iPhone")&&
!I("iPod")&&!I("iPad")||I("iPad")||I("iPod"))&&d.navigator&&d.navigator.standalone&&f&&"_self"!=f)c="A",b=document,c=String(c),"application/xhtml+xml"===b.contentType&&(c=c.toLowerCase()),b=c=b.createElement(c),e=e instanceof M?e:Ya(e),b.href=O(e),c.setAttribute("target",f),g&&c.setAttribute("rel","noreferrer"),b=document.createEvent("MouseEvent"),b.initMouseEvent("click",!0,!0,d,1),c.dispatchEvent(b);else if(g){if(d=ab("",d,f,b),c=O(e),d){Oa&&-1!=c.indexOf(";")&&(c="'"+c.replace(/'/g,"%27")+"'");
d.opener=null;Ka.test(c)&&(-1!=c.indexOf("&")&&(c=c.replace(Ea,"&amp;")),-1!=c.indexOf("<")&&(c=c.replace(Fa,"&lt;")),-1!=c.indexOf(">")&&(c=c.replace(Ga,"&gt;")),-1!=c.indexOf('"')&&(c=c.replace(Ha,"&quot;")),-1!=c.indexOf("'")&&(c=c.replace(Ia,"&#39;")),-1!=c.indexOf("\x00")&&(c=c.replace(Ja,"&#0;")));c='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+c+'">';if(void 0===K)if(b=null,(e=n.trustedTypes)&&e.createPolicy){try{b=e.createPolicy("goog#html",{createHTML:r,
createScript:r,createScriptURL:r})}catch(u){n.console&&n.console.error(u.message)}K=b}else K=b;c=(b=K)?b.createHTML(c):c;c=new P(c,null,$a);(d=d.document)&&d.write&&(d.write(c instanceof P&&c.constructor===P?c.i:"type_error:SafeHtml"),d.close())}}else(d=ab(e,d,f,b))&&c.noopener&&(d.opener=null);a.g();break}}b=b.parentNode}};function ub(a,b,c,d){new tb(a,void 0===b?!1:b,void 0===c?!1:c,d)}var X=["DOCS_installLinkReferrerSanitizer"],Y=n;
X[0]in Y||"undefined"==typeof Y.execScript||Y.execScript("var "+X[0]);for(var Z;X.length&&(Z=X.shift());)X.length||void 0===ub?Y[Z]&&Y[Z]!==Object.prototype[Z]?Y=Y[Z]:Y=Y[Z]={}:Y[Z]=ub;}).call(this);
</script><script type="text/javascript" nonce="">DOCS_installLinkReferrerSanitizer( undefined,  true,  true, 'docs');</script></body></html>